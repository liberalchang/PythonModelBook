<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é­”æœ¯æ–¹æ³• - PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</title>
  <meta name="description" content="ç³»ç»ŸåŒ–æ•´ç†PythonçŸ¥è¯†ä½“ç³»çš„å¼€æºé¡¹ç›®">

  <!-- SEOæ ‡ç­¾ -->
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>é­”æœ¯æ–¹æ³• | PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="é­”æœ¯æ–¹æ³•" />
<meta name="author" content="Pythonå­¦ä¹ æŒ‡å—" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="ç³»ç»ŸåŒ–æ•´ç†PythonçŸ¥è¯†ä½“ç³»çš„å¼€æºé¡¹ç›®" />
<meta property="og:description" content="ç³»ç»ŸåŒ–æ•´ç†PythonçŸ¥è¯†ä½“ç³»çš„å¼€æºé¡¹ç›®" />
<link rel="canonical" href="http://0.0.0.0:4000/PythonModelBook/docs/basics/magic-methods/" />
<meta property="og:url" content="http://0.0.0.0:4000/PythonModelBook/docs/basics/magic-methods/" />
<meta property="og:site_name" content="PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-01-01T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="é­”æœ¯æ–¹æ³•" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pythonå­¦ä¹ æŒ‡å—"},"dateModified":"2024-01-01T00:00:00+08:00","datePublished":"2024-01-01T00:00:00+08:00","description":"ç³»ç»ŸåŒ–æ•´ç†PythonçŸ¥è¯†ä½“ç³»çš„å¼€æºé¡¹ç›®","headline":"é­”æœ¯æ–¹æ³•","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/PythonModelBook/docs/basics/magic-methods/"},"url":"http://0.0.0.0:4000/PythonModelBook/docs/basics/magic-methods/"}</script>
<!-- End Jekyll SEO tag -->


  <!-- æ ·å¼æ–‡ä»¶ -->
  <link rel="stylesheet" href="/PythonModelBook/assets/css/main.css">
  <link rel="stylesheet" href="/PythonModelBook/assets/css/light-theme.css">
  <link rel="stylesheet" href="/PythonModelBook/assets/css/dark-theme.css">

  <!-- å­—ä½“ -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- å›¾æ ‡ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- æœç´¢åŠŸèƒ½ -->
  <script src="https://unpkg.com/lunr/lunr.js"></script>
</head>

<body>
  <!-- å¯¼èˆªæ  -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <a href="/PythonModelBook/" class="brand-link">
          <i class="fab fa-python"></i>
          <span>PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</span>
        </a>
      </div>

      <!-- æœç´¢æ¡† -->
      <div class="nav-search">
        <div class="search-container">
          <input type="text" id="search-input" placeholder="æœç´¢æ–‡æ¡£..." class="search-input">
          <i class="fas fa-search search-icon"></i>
          <div id="search-results" class="search-results"></div>
        </div>
      </div>

      <!-- å¯¼èˆªèœå• -->
      <div class="nav-menu">
        <a href="/PythonModelBook/" class="nav-link">é¦–é¡µ</a>
        <a href="/PythonModelBook/docs/" class="nav-link">æ–‡æ¡£</a>
        <a href="/PythonModelBook/about/" class="nav-link">å…³äº</a>
        <button id="theme-toggle" class="theme-toggle" title="åˆ‡æ¢ä¸»é¢˜">
          <i class="fas fa-moon"></i>
        </button>
      </div>

      <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
      <button class="mobile-menu-btn" id="mobile-menu-btn">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- ä¸»è¦å†…å®¹ -->
  <main class="main-content">
    <div class="page-container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <header class="page-header">
    <div class="page-header-content">
      <h1 class="page-title">é­”æœ¯æ–¹æ³•</h1>
      
      
      <!-- é¢åŒ…å±‘å¯¼èˆª -->
      <nav class="breadcrumb">
        <a href="/PythonModelBook/" class="breadcrumb-item">
          <i class="fas fa-home"></i>
          é¦–é¡µ
        </a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item current">é­”æœ¯æ–¹æ³•</span>
      </nav>
    </div>
  </header>
  
  <!-- é¡µé¢å†…å®¹ -->
  <main class="page-content">
    <article class="page-article">
      <h1 id="pythoné­”æœ¯æ–¹æ³•è¯¦è§£">Pythoné­”æœ¯æ–¹æ³•è¯¦è§£</h1>

<p>é­”æœ¯æ–¹æ³•ï¼ˆMagic Methodsï¼‰ï¼Œä¹Ÿç§°ä¸ºç‰¹æ®Šæ–¹æ³•ï¼ˆSpecial Methodsï¼‰æˆ–åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼ˆDunder Methodsï¼‰ï¼Œæ˜¯Pythonä¸­ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´å’Œç»“å°¾çš„ç‰¹æ®Šæ–¹æ³•ã€‚è¿™äº›æ–¹æ³•å®šä¹‰äº†å¯¹è±¡åœ¨ç‰¹å®šæ“ä½œä¸‹çš„è¡Œä¸ºï¼Œæ˜¯Pythoné¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ã€‚</p>

<h2 id="-å­¦ä¹ ç›®æ ‡">ğŸ“š å­¦ä¹ ç›®æ ‡</h2>

<p>é€šè¿‡æœ¬ç« å­¦ä¹ ï¼Œä½ å°†èƒ½å¤Ÿï¼š</p>

<ul>
  <li>ç†è§£é­”æœ¯æ–¹æ³•çš„æ¦‚å¿µå’Œä½œç”¨æœºåˆ¶</li>
  <li>æŒæ¡å¸¸ç”¨é­”æœ¯æ–¹æ³•çš„ä½¿ç”¨æ–¹æ³•</li>
  <li>å­¦ä¼šè‡ªå®šä¹‰å¯¹è±¡çš„ç‰¹æ®Šè¡Œä¸º</li>
  <li>å®ç°å¯¹è±¡çš„è¿ç®—ç¬¦é‡è½½</li>
  <li>æ§åˆ¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå’Œè¡¨ç¤ºå½¢å¼</li>
</ul>

<h2 id="-é­”æœ¯æ–¹æ³•æ¦‚è¿°">ğŸ” é­”æœ¯æ–¹æ³•æ¦‚è¿°</h2>

<h3 id="ä»€ä¹ˆæ˜¯é­”æœ¯æ–¹æ³•">ä»€ä¹ˆæ˜¯é­”æœ¯æ–¹æ³•</h3>

<p>é­”æœ¯æ–¹æ³•æ˜¯Pythonä¸­ä»¥åŒä¸‹åˆ’çº¿<code class="language-plaintext highlighter-rouge">__</code>åŒ…è£¹çš„ç‰¹æ®Šæ–¹æ³•ï¼Œå®ƒä»¬å®šä¹‰äº†å¯¹è±¡åœ¨ç‰¹å®šæ“ä½œä¸‹çš„è¡Œä¸ºã€‚å½“æˆ‘ä»¬å¯¹å¯¹è±¡æ‰§è¡ŒæŸäº›æ“ä½œæ—¶ï¼ŒPythonä¼šè‡ªåŠ¨è°ƒç”¨ç›¸åº”çš„é­”æœ¯æ–¹æ³•ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Point(</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">x</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>
    
    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="nc">Point</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ __init__
</span><span class="n">p1</span> <span class="o">=</span> <span class="nc">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># æ‰“å°å¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ __str__
</span><span class="nf">print</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: Point(1, 2)
</span>
<span class="c1"># å¯¹è±¡ç›¸åŠ æ—¶è‡ªåŠ¨è°ƒç”¨ __add__
</span><span class="n">p2</span> <span class="o">=</span> <span class="nc">Point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">p3</span> <span class="o">=</span> <span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span>  <span class="c1"># è‡ªåŠ¨è°ƒç”¨ p1.__add__(p2)
</span><span class="nf">print</span><span class="p">(</span><span class="n">p3</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: Point(4, 6)
</span></code></pre></div></div>

<h2 id="ï¸-å¯¹è±¡åˆ›å»ºå’Œé”€æ¯">ğŸ—ï¸ å¯¹è±¡åˆ›å»ºå’Œé”€æ¯</h2>

<h3 id="__new__---å¯¹è±¡æ„é€ "><code class="language-plaintext highlighter-rouge">__new__</code> - å¯¹è±¡æ„é€ </h3>

<p><code class="language-plaintext highlighter-rouge">__new__</code>æ–¹æ³•è´Ÿè´£åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œåœ¨<code class="language-plaintext highlighter-rouge">__init__</code>ä¹‹å‰è°ƒç”¨ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åˆ›å»º </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s"> çš„å®ä¾‹</span><span class="sh">"</span><span class="p">)</span>
        <span class="c1"># å¿…é¡»è¿”å›å®ä¾‹å¯¹è±¡
</span>        <span class="k">return</span> <span class="nf">super</span><span class="p">().</span><span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åˆå§‹åŒ– </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

<span class="c1"># åˆ›å»ºå¯¹è±¡
</span><span class="n">p</span> <span class="o">=</span> <span class="nc">Person</span><span class="p">(</span><span class="sh">"</span><span class="s">å¼ ä¸‰</span><span class="sh">"</span><span class="p">)</span>
<span class="c1"># è¾“å‡º:
# åˆ›å»º å¼ ä¸‰ çš„å®ä¾‹
# åˆå§‹åŒ– å¼ ä¸‰
</span></code></pre></div></div>

<h3 id="__init__---å¯¹è±¡åˆå§‹åŒ–"><code class="language-plaintext highlighter-rouge">__init__</code> - å¯¹è±¡åˆå§‹åŒ–</h3>

<p><code class="language-plaintext highlighter-rouge">__init__</code>æ–¹æ³•åœ¨å¯¹è±¡åˆ›å»ºåç«‹å³è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡å±æ€§ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">grade</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">åˆå§‹åŒ–å­¦ç”Ÿå¯¹è±¡</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
        <span class="n">self</span><span class="p">.</span><span class="n">grade</span> <span class="o">=</span> <span class="n">grade</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å­¦ç”Ÿ </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s"> åˆå§‹åŒ–å®Œæˆ</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># åˆ›å»ºå­¦ç”Ÿå¯¹è±¡
</span><span class="n">student</span> <span class="o">=</span> <span class="nc">Student</span><span class="p">(</span><span class="sh">"</span><span class="s">æå››</span><span class="sh">"</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="sh">"</span><span class="s">é«˜ä¸‰</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="__del__---å¯¹è±¡é”€æ¯"><code class="language-plaintext highlighter-rouge">__del__</code> - å¯¹è±¡é”€æ¯</h3>

<p><code class="language-plaintext highlighter-rouge">__del__</code>æ–¹æ³•åœ¨å¯¹è±¡è¢«åƒåœ¾å›æ”¶æ—¶è°ƒç”¨ï¼Œç”¨äºæ¸…ç†èµ„æºã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">FileManager</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span>
        <span class="n">self</span><span class="p">.</span><span class="nb">file</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‰“å¼€æ–‡ä»¶: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__del__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">hasattr</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="sh">'</span><span class="s">file</span><span class="sh">'</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="nb">file</span><span class="p">.</span><span class="n">closed</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="nb">file</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å…³é—­æ–‡ä»¶: </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">filename</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ä½¿ç”¨ç¤ºä¾‹
</span><span class="n">fm</span> <span class="o">=</span> <span class="nc">FileManager</span><span class="p">(</span><span class="sh">"</span><span class="s">test.txt</span><span class="sh">"</span><span class="p">)</span>
<span class="k">del</span> <span class="n">fm</span>  <span class="c1"># æ‰‹åŠ¨åˆ é™¤ï¼Œè§¦å‘ __del__
</span></code></pre></div></div>

<h2 id="-å¯¹è±¡è¡¨ç¤º">ğŸ­ å¯¹è±¡è¡¨ç¤º</h2>

<h3 id="__str__---ç”¨æˆ·å‹å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤º"><code class="language-plaintext highlighter-rouge">__str__</code> - ç”¨æˆ·å‹å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤º</h3>

<p><code class="language-plaintext highlighter-rouge">__str__</code>æ–¹æ³•å®šä¹‰å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¸»è¦é¢å‘æœ€ç»ˆç”¨æˆ·ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Book</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">author</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="n">self</span><span class="p">.</span><span class="n">author</span> <span class="o">=</span> <span class="n">author</span>
        <span class="n">self</span><span class="p">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">price</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">ã€Š</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">title</span><span class="si">}</span><span class="s">ã€‹ - </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">author</span><span class="si">}</span><span class="s"> (Â¥</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">price</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>

<span class="n">book</span> <span class="o">=</span> <span class="nc">Book</span><span class="p">(</span><span class="sh">"</span><span class="s">Pythonç¼–ç¨‹</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">å¼ ä¸‰</span><span class="sh">"</span><span class="p">,</span> <span class="mf">89.9</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">book</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: ã€ŠPythonç¼–ç¨‹ã€‹ - å¼ ä¸‰ (Â¥89.9)
</span></code></pre></div></div>

<h3 id="__repr__---å¼€å‘è€…å‹å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤º"><code class="language-plaintext highlighter-rouge">__repr__</code> - å¼€å‘è€…å‹å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤º</h3>

<p><code class="language-plaintext highlighter-rouge">__repr__</code>æ–¹æ³•å®šä¹‰å¯¹è±¡çš„â€å®˜æ–¹â€å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¸»è¦é¢å‘å¼€å‘è€…ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s"> is </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">age</span><span class="si">}</span><span class="s"> years old</span><span class="sh">"</span>
    
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Person(</span><span class="sh">'</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="sh">'</span><span class="s">, </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">age</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>

<span class="n">p</span> <span class="o">=</span> <span class="nc">Person</span><span class="p">(</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>   <span class="c1"># è¾“å‡º: Alice is 25 years old
</span><span class="nf">print</span><span class="p">(</span><span class="nf">repr</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>  <span class="c1"># è¾“å‡º: Person('Alice', 25)
</span></code></pre></div></div>

<h2 id="-æ•°å€¼è¿ç®—">ğŸ”¢ æ•°å€¼è¿ç®—</h2>

<h3 id="ç®—æœ¯è¿ç®—ç¬¦é‡è½½">ç®—æœ¯è¿ç®—ç¬¦é‡è½½</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Vector</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Vector(</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">x</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>
    
    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">åŠ æ³•è¿ç®—</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nc">Vector</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">å‡æ³•è¿ç®—</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nc">Vector</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">scalar</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">æ ‡é‡ä¹˜æ³•</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nc">Vector</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">scalar</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">scalar</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__truediv__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">scalar</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">æ ‡é‡é™¤æ³•</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nc">Vector</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">scalar</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">scalar</span><span class="p">)</span>

<span class="c1"># ä½¿ç”¨ç¤ºä¾‹
</span><span class="n">v1</span> <span class="o">=</span> <span class="nc">Vector</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">v2</span> <span class="o">=</span> <span class="nc">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="n">v1</span> <span class="o">+</span> <span class="n">v2</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: Vector(4, 6)
</span><span class="nf">print</span><span class="p">(</span><span class="n">v1</span> <span class="o">-</span> <span class="n">v2</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: Vector(2, 2)
</span><span class="nf">print</span><span class="p">(</span><span class="n">v1</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>   <span class="c1"># è¾“å‡º: Vector(6, 8)
</span><span class="nf">print</span><span class="p">(</span><span class="n">v1</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>   <span class="c1"># è¾“å‡º: Vector(1.5, 2.0)
</span></code></pre></div></div>

<h2 id="-æ¯”è¾ƒè¿ç®—">ğŸ” æ¯”è¾ƒè¿ç®—</h2>

<h3 id="æ¯”è¾ƒè¿ç®—ç¬¦é‡è½½">æ¯”è¾ƒè¿ç®—ç¬¦é‡è½½</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">score</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">score</span> <span class="o">=</span> <span class="n">score</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">(</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">score</span><span class="si">}</span><span class="s">åˆ†)</span><span class="sh">"</span>
    
    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ç­‰äºæ¯”è¾ƒ</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">score</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">score</span>
    
    <span class="k">def</span> <span class="nf">__lt__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">å°äºæ¯”è¾ƒ</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">score</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">score</span>
    
    <span class="k">def</span> <span class="nf">__le__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">å°äºç­‰äºæ¯”è¾ƒ</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">score</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="p">.</span><span class="n">score</span>
    
    <span class="k">def</span> <span class="nf">__gt__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">å¤§äºæ¯”è¾ƒ</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">score</span> <span class="o">&gt;</span> <span class="n">other</span><span class="p">.</span><span class="n">score</span>
    
    <span class="k">def</span> <span class="nf">__ge__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">å¤§äºç­‰äºæ¯”è¾ƒ</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">score</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="p">.</span><span class="n">score</span>

<span class="c1"># ä½¿ç”¨ç¤ºä¾‹
</span><span class="n">s1</span> <span class="o">=</span> <span class="nc">Student</span><span class="p">(</span><span class="sh">"</span><span class="s">å¼ ä¸‰</span><span class="sh">"</span><span class="p">,</span> <span class="mi">85</span><span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="nc">Student</span><span class="p">(</span><span class="sh">"</span><span class="s">æå››</span><span class="sh">"</span><span class="p">,</span> <span class="mi">92</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="n">s1</span> <span class="o">&lt;</span> <span class="n">s2</span><span class="p">)</span>   <span class="c1"># True
</span><span class="nf">print</span><span class="p">(</span><span class="n">s1</span> <span class="o">==</span> <span class="n">s2</span><span class="p">)</span>  <span class="c1"># False
</span><span class="nf">print</span><span class="p">(</span><span class="n">s2</span> <span class="o">&gt;</span> <span class="n">s1</span><span class="p">)</span>   <span class="c1"># True
</span>
<span class="c1"># å¯ä»¥ç›´æ¥æ’åº
</span><span class="n">students</span> <span class="o">=</span> <span class="p">[</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="nc">Student</span><span class="p">(</span><span class="sh">"</span><span class="s">ç‹äº”</span><span class="sh">"</span><span class="p">,</span> <span class="mi">78</span><span class="p">)]</span>
<span class="n">students</span><span class="p">.</span><span class="nf">sort</span><span class="p">()</span>
<span class="k">for</span> <span class="n">student</span> <span class="ow">in</span> <span class="n">students</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">student</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="-å®¹å™¨è¡Œä¸º">ğŸ“¦ å®¹å™¨è¡Œä¸º</h2>

<h3 id="__len__---é•¿åº¦è·å–"><code class="language-plaintext highlighter-rouge">__len__</code> - é•¿åº¦è·å–</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Playlist</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">songs</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">def</span> <span class="nf">add_song</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">song</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">songs</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">song</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">songs</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">æ’­æ”¾åˆ—è¡¨(</span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="si">}</span><span class="s">é¦–æ­Œæ›²)</span><span class="sh">"</span>

<span class="n">playlist</span> <span class="o">=</span> <span class="nc">Playlist</span><span class="p">()</span>
<span class="n">playlist</span><span class="p">.</span><span class="nf">add_song</span><span class="p">(</span><span class="sh">"</span><span class="s">æ­Œæ›²1</span><span class="sh">"</span><span class="p">)</span>
<span class="n">playlist</span><span class="p">.</span><span class="nf">add_song</span><span class="p">(</span><span class="sh">"</span><span class="s">æ­Œæ›²2</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">playlist</span><span class="p">))</span>  <span class="c1"># è¾“å‡º: 2
</span><span class="nf">print</span><span class="p">(</span><span class="n">playlist</span><span class="p">)</span>       <span class="c1"># è¾“å‡º: æ’­æ”¾åˆ—è¡¨(2é¦–æ­Œæ›²)
</span></code></pre></div></div>

<h3 id="__getitem__-å’Œ-__setitem__---ç´¢å¼•è®¿é—®"><code class="language-plaintext highlighter-rouge">__getitem__</code> å’Œ <code class="language-plaintext highlighter-rouge">__setitem__</code> - ç´¢å¼•è®¿é—®</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Matrix</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">rows</span> <span class="o">=</span> <span class="n">rows</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cols</span> <span class="o">=</span> <span class="n">cols</span>
        <span class="n">self</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">cols</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">rows</span><span class="p">)]</span>
    
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è·å–å…ƒç´ </span><span class="sh">"""</span>
        <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">key</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è®¾ç½®å…ƒç´ </span><span class="sh">"""</span>
        <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">key</span>
        <span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sh">'</span><span class="se">\n</span><span class="sh">'</span><span class="p">.</span><span class="nf">join</span><span class="p">([</span><span class="sh">'</span><span class="s"> </span><span class="sh">'</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nf">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">row</span><span class="p">))</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">data</span><span class="p">])</span>

<span class="c1"># ä½¿ç”¨ç¤ºä¾‹
</span><span class="n">matrix</span> <span class="o">=</span> <span class="nc">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>

<span class="nf">print</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>  <span class="c1"># è¾“å‡º: 1
</span><span class="nf">print</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="c1"># è¾“å‡º:
# 1 0 0
# 0 2 0
# 0 0 3
</span></code></pre></div></div>

<h2 id="-å…¶ä»–é‡è¦é­”æœ¯æ–¹æ³•">ğŸ¯ å…¶ä»–é‡è¦é­”æœ¯æ–¹æ³•</h2>

<h3 id="__call__---å¯è°ƒç”¨å¯¹è±¡"><code class="language-plaintext highlighter-rouge">__call__</code> - å¯è°ƒç”¨å¯¹è±¡</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Multiplier</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">factor</span> <span class="o">=</span> <span class="n">factor</span>
    
    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span> <span class="o">*</span> <span class="n">self</span><span class="p">.</span><span class="n">factor</span>

<span class="c1"># åˆ›å»ºä¹˜æ³•å™¨
</span><span class="n">double</span> <span class="o">=</span> <span class="nc">Multiplier</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">triple</span> <span class="o">=</span> <span class="nc">Multiplier</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># åƒå‡½æ•°ä¸€æ ·è°ƒç”¨å¯¹è±¡
</span><span class="nf">print</span><span class="p">(</span><span class="nf">double</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>  <span class="c1"># è¾“å‡º: 10
</span><span class="nf">print</span><span class="p">(</span><span class="nf">triple</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>  <span class="c1"># è¾“å‡º: 12
</span></code></pre></div></div>

<h3 id="__bool__---å¸ƒå°”å€¼è½¬æ¢"><code class="language-plaintext highlighter-rouge">__bool__</code> - å¸ƒå°”å€¼è½¬æ¢</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">BankAccount</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">balance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>
    
    <span class="k">def</span> <span class="nf">__bool__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è´¦æˆ·æœ‰ä½™é¢æ—¶è¿”å›True</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">balance</span> <span class="o">&gt;</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">è´¦æˆ·ä½™é¢: Â¥</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">balance</span><span class="si">}</span><span class="sh">"</span>

<span class="c1"># ä½¿ç”¨ç¤ºä¾‹
</span><span class="n">account1</span> <span class="o">=</span> <span class="nc">BankAccount</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">account2</span> <span class="o">=</span> <span class="nc">BankAccount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">if</span> <span class="n">account1</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è´¦æˆ·1æœ‰ä½™é¢</span><span class="sh">"</span><span class="p">)</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">account2</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è´¦æˆ·2æ²¡æœ‰ä½™é¢</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="__hash__---å“ˆå¸Œå€¼è®¡ç®—"><code class="language-plaintext highlighter-rouge">__hash__</code> - å“ˆå¸Œå€¼è®¡ç®—</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
    
    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">hash</span><span class="p">((</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">age</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Person</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">name</span> <span class="ow">and</span> <span class="n">self</span><span class="p">.</span><span class="n">age</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">age</span>
        <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">(</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">age</span><span class="si">}</span><span class="s">å²)</span><span class="sh">"</span>

<span class="c1"># ä½¿ç”¨ç¤ºä¾‹
</span><span class="n">p1</span> <span class="o">=</span> <span class="nc">Person</span><span class="p">(</span><span class="sh">"</span><span class="s">å¼ ä¸‰</span><span class="sh">"</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="nc">Person</span><span class="p">(</span><span class="sh">"</span><span class="s">å¼ ä¸‰</span><span class="sh">"</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">p3</span> <span class="o">=</span> <span class="nc">Person</span><span class="p">(</span><span class="sh">"</span><span class="s">æå››</span><span class="sh">"</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="c1"># å¯ä»¥ä½œä¸ºå­—å…¸é”®æˆ–é›†åˆå…ƒç´ 
</span><span class="n">people_set</span> <span class="o">=</span> <span class="p">{</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">}</span>  <span class="c1"># p1å’Œp2è¢«è®¤ä¸ºæ˜¯åŒä¸€ä¸ªäºº
</span><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">é›†åˆä¸­æœ‰ </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">people_set</span><span class="p">)</span><span class="si">}</span><span class="s"> ä¸ªä¸åŒçš„äºº</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: 2
</span></code></pre></div></div>

<h2 id="-å®é™…åº”ç”¨æ¡ˆä¾‹">ğŸ¨ å®é™…åº”ç”¨æ¡ˆä¾‹</h2>

<h3 id="æ¡ˆä¾‹1è‡ªå®šä¹‰æ•°å­—ç±»">æ¡ˆä¾‹1ï¼šè‡ªå®šä¹‰æ•°å­—ç±»</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Money</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">è´§å¸ç±»ï¼Œæ”¯æŒå„ç§è¿ç®—</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">currency</span><span class="o">=</span><span class="sh">"</span><span class="s">CNY</span><span class="sh">"</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">amount</span>
        <span class="n">self</span><span class="p">.</span><span class="n">currency</span> <span class="o">=</span> <span class="n">currency</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">symbols</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">CNY</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Â¥</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">USD</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">$</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">EUR</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">â‚¬</span><span class="sh">"</span><span class="p">}</span>
        <span class="n">symbol</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">currency</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">symbol</span><span class="si">}{</span><span class="n">self</span><span class="p">.</span><span class="n">amount</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span>
    
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Money(</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">amount</span><span class="si">}</span><span class="s">, </span><span class="sh">'</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">currency</span><span class="si">}</span><span class="sh">'</span><span class="s">)</span><span class="sh">"</span>
    
    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Money</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span> <span class="o">!=</span> <span class="n">other</span><span class="p">.</span><span class="n">currency</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">ä¸èƒ½ç›´æ¥ç›¸åŠ ä¸åŒè´§å¸</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span> <span class="nc">Money</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="n">amount</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span><span class="p">)</span>
        <span class="k">return</span> <span class="nc">Money</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">+</span> <span class="n">other</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Money</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span> <span class="o">!=</span> <span class="n">other</span><span class="p">.</span><span class="n">currency</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">ä¸èƒ½ç›´æ¥ç›¸å‡ä¸åŒè´§å¸</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span> <span class="nc">Money</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">-</span> <span class="n">other</span><span class="p">.</span><span class="n">amount</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span><span class="p">)</span>
        <span class="k">return</span> <span class="nc">Money</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">-</span> <span class="n">other</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">):</span>
        <span class="k">return</span> <span class="nc">Money</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">*</span> <span class="n">factor</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__truediv__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">divisor</span><span class="p">):</span>
        <span class="k">return</span> <span class="nc">Money</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">/</span> <span class="n">divisor</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="nf">return </span><span class="p">(</span><span class="nf">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Money</span><span class="p">)</span> <span class="ow">and</span> 
                <span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">amount</span> <span class="ow">and</span> 
                <span class="n">self</span><span class="p">.</span><span class="n">currency</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">currency</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__lt__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Money</span><span class="p">)</span> <span class="ow">and</span> <span class="n">self</span><span class="p">.</span><span class="n">currency</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">currency</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">amount</span>
        <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">æ— æ³•æ¯”è¾ƒä¸åŒè´§å¸</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__bool__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="c1"># ä½¿ç”¨ç¤ºä¾‹
</span><span class="n">price1</span> <span class="o">=</span> <span class="nc">Money</span><span class="p">(</span><span class="mf">99.99</span><span class="p">)</span>
<span class="n">price2</span> <span class="o">=</span> <span class="nc">Money</span><span class="p">(</span><span class="mf">50.00</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å•†å“1: </span><span class="si">{</span><span class="n">price1</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: å•†å“1: Â¥99.99
</span><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å•†å“2: </span><span class="si">{</span><span class="n">price2</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: å•†å“2: Â¥50.00
</span><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ€»ä»·: </span><span class="si">{</span><span class="n">price1</span> <span class="o">+</span> <span class="n">price2</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: æ€»ä»·: Â¥149.99
</span><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å·®ä»·: </span><span class="si">{</span><span class="n">price1</span> <span class="o">-</span> <span class="n">price2</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: å·®ä»·: Â¥49.99
</span><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‰“8æŠ˜: </span><span class="si">{</span><span class="n">price1</span> <span class="o">*</span> <span class="mf">0.8</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># è¾“å‡º: æ‰“8æŠ˜: Â¥79.99
</span></code></pre></div></div>

<h3 id="æ¡ˆä¾‹2æ™ºèƒ½åˆ—è¡¨ç±»">æ¡ˆä¾‹2ï¼šæ™ºèƒ½åˆ—è¡¨ç±»</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">SmartList</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">æ™ºèƒ½åˆ—è¡¨ï¼Œæä¾›é¢å¤–åŠŸèƒ½</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="k">if</span> <span class="n">items</span> <span class="k">else</span> <span class="p">[]</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">SmartList(</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>
    
    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    
    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">items</span>
    
    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">iter</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">SmartList</span><span class="p">):</span>
            <span class="k">return</span> <span class="nc">SmartList</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">+</span> <span class="n">other</span><span class="p">.</span><span class="n">items</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="nc">SmartList</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">+</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nc">SmartList</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">+</span> <span class="p">[</span><span class="n">other</span><span class="p">])</span>
    
    <span class="k">def</span> <span class="nf">__bool__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">unique</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è·å–å»é‡åçš„åˆ—è¡¨</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nc">SmartList</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="nf">set</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">)))</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">reversed</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è·å–åè½¬åçš„åˆ—è¡¨</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nc">SmartList</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># ä½¿ç”¨ç¤ºä¾‹
</span><span class="n">smart_list</span> <span class="o">=</span> <span class="nc">SmartList</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åŸåˆ—è¡¨: </span><span class="si">{</span><span class="n">smart_list</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">é•¿åº¦: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">smart_list</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åŒ…å«2: </span><span class="si">{</span><span class="mi">2</span> <span class="ow">in</span> <span class="n">smart_list</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å»é‡: </span><span class="si">{</span><span class="n">smart_list</span><span class="p">.</span><span class="n">unique</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åè½¬: </span><span class="si">{</span><span class="n">smart_list</span><span class="p">.</span><span class="nb">reversed</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># åˆ—è¡¨æ“ä½œ
</span><span class="n">smart_list</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ·»åŠ å: </span><span class="si">{</span><span class="n">smart_list</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="-æœ€ä½³å®è·µ">ğŸ“ æœ€ä½³å®è·µ</h2>

<h3 id="1-é­”æœ¯æ–¹æ³•çš„ä¸€è‡´æ€§">1. é­”æœ¯æ–¹æ³•çš„ä¸€è‡´æ€§</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
    
    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Point</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span> <span class="ow">and</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span>
        <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="c1"># å¦‚æœå®ç°äº†__eq__ï¼Œé€šå¸¸ä¹Ÿè¦å®ç°__hash__
</span>        <span class="k">return</span> <span class="nf">hash</span><span class="p">((</span><span class="n">self</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Point(</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">x</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>
    
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="c1"># __repr__åº”è¯¥è¿”å›å¯ä»¥é‡æ–°åˆ›å»ºå¯¹è±¡çš„å­—ç¬¦ä¸²
</span>        <span class="k">return</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Point(</span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">x</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span>
</code></pre></div></div>

<h3 id="2-é”™è¯¯å¤„ç†">2. é”™è¯¯å¤„ç†</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">SafeList</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="k">if</span> <span class="n">items</span> <span class="k">else</span> <span class="p">[]</span>
    
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">except</span> <span class="nb">IndexError</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>  <span class="c1"># è¿”å›Noneè€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸
</span>    
    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># è‡ªåŠ¨æ‰©å±•åˆ—è¡¨
</span>        <span class="k">while</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">index</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</code></pre></div></div>

<h3 id="3-æ€§èƒ½è€ƒè™‘">3. æ€§èƒ½è€ƒè™‘</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">EfficientContainer</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_length</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># ç¼“å­˜é•¿åº¦
</span>    
    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">_length</span>  <span class="c1"># ç›´æ¥è¿”å›ç¼“å­˜çš„é•¿åº¦
</span>    
    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_items</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_length</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># æ›´æ–°ç¼“å­˜
</span>    
    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_items</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">_length</span> <span class="o">-=</span> <span class="mi">1</span>  <span class="c1"># æ›´æ–°ç¼“å­˜
</span></code></pre></div></div>

<h2 id="-æ‰©å±•é˜…è¯»">ğŸ”— æ‰©å±•é˜…è¯»</h2>

<ul>
  <li><a href="https://docs.python.org/3/reference/datamodel.html#special-method-names">Pythonå®˜æ–¹æ–‡æ¡£ - ç‰¹æ®Šæ–¹æ³•</a></li>
  <li><a href="https://docs.python.org/3/reference/datamodel.html">Pythoné­”æœ¯æ–¹æ³•å®Œæ•´åˆ—è¡¨</a></li>
  <li><a href="https://docs.python.org/3/reference/datamodel.html#emulating-numeric-types">è¿ç®—ç¬¦é‡è½½æœ€ä½³å®è·µ</a></li>
  <li><a href="https://docs.python.org/3/reference/datamodel.html#emulating-container-types">å®¹å™¨ç±»å‹çš„å®ç°</a></li>
</ul>

<hr />

<p>é­”æœ¯æ–¹æ³•æ˜¯Pythoné¢å‘å¯¹è±¡ç¼–ç¨‹çš„å¼ºå¤§å·¥å…·ï¼Œé€šè¿‡åˆç†ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥è®©è‡ªå®šä¹‰ç±»çš„è¡Œä¸ºæ›´åŠ è‡ªç„¶å’Œç›´è§‚ã€‚è®°ä½è¦ä¿æŒæ–¹æ³•ä¹‹é—´çš„ä¸€è‡´æ€§ï¼Œå¹¶è€ƒè™‘æ€§èƒ½å’Œé”™è¯¯å¤„ç†ã€‚</p>

    </article>
    
    <!-- é¡µé¢ä¾§è¾¹æ  -->
    
    <aside class="page-sidebar">
      <!-- ç›®å½•å¯¼èˆª -->
      <div class="sidebar-section">
        <h3 class="sidebar-title">
          <i class="fas fa-list"></i>
          é¡µé¢ç›®å½•
        </h3>
        <div id="page-toc" class="page-toc">
          <!-- ç›®å½•å°†é€šè¿‡JavaScriptè‡ªåŠ¨ç”Ÿæˆ -->
        </div>
      </div>
      
      <!-- ç›¸å…³é“¾æ¥ -->
      
      
      <!-- å¿«é€Ÿå¯¼èˆª -->
      <div class="sidebar-section">
        <h3 class="sidebar-title">
          <i class="fas fa-compass"></i>
          å¿«é€Ÿå¯¼èˆª
        </h3>
        <ul class="quick-nav">
          <li><a href="/PythonModelBook/docs/basics/">åŸºç¡€è¯­æ³•</a></li>
          <li><a href="/PythonModelBook/docs/builtins/">å†…ç½®å‡½æ•°</a></li>
          <li><a href="/PythonModelBook/docs/stdlib/">æ ‡å‡†åº“</a></li>
          <li><a href="/PythonModelBook/docs/thirdparty/">ç¬¬ä¸‰æ–¹åº“</a></li>
        </ul>
      </div>
    </aside>
    
  </main>
  
  <!-- é¡µé¢åº•éƒ¨æ“ä½œ -->
  <footer class="page-footer">
    <div class="page-actions">
      
      
      <a href="https://github.com/username/PythonModelBook/issues/new" class="btn btn-outline" target="_blank">
        <i class="fas fa-bug"></i>
        æŠ¥å‘Šé—®é¢˜
      </a>
      
      <button id="share-page" class="btn btn-outline">
        <i class="fas fa-share"></i>
        åˆ†äº«é¡µé¢
      </button>
    </div>
    
    <!-- é¡µé¢ä¿¡æ¯ -->
    <div class="page-meta">
      
      <span class="meta-item">
        <i class="fas fa-calendar"></i>
        å‘å¸ƒæ—¶é—´ï¼š2024å¹´01æœˆ01æ—¥
      </span>
      
      
      
      
      
      <span class="meta-item">
        <i class="fas fa-user"></i>
        ä½œè€…ï¼šPythonå­¦ä¹ æŒ‡å—
      </span>
      
    </div>
  </footer>
</div>

<!-- é¡µé¢ç‰¹å®šçš„æ ·å¼ -->
<style>
.page-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.page-header {
  margin-bottom: 3rem;
  text-align: center;
}

.page-title {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 1rem;
}

.page-description {
  font-size: 1.2rem;
  color: var(--text-secondary);
  margin-bottom: 2rem;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

.breadcrumb {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.breadcrumb-item {
  color: var(--text-secondary);
  text-decoration: none;
  transition: color 0.2s;
}

.breadcrumb-item:hover {
  color: var(--primary-color);
}

.breadcrumb-item.current {
  color: var(--primary-color);
  font-weight: 500;
}

.page-content {
  display: grid;
  grid-template-columns: 1fr 300px;
  gap: 3rem;
  align-items: start;
}

.page-article {
  min-width: 0;
}

.page-sidebar {
  position: sticky;
  top: 2rem;
}

.sidebar-section {
  background: var(--bg-secondary);
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.sidebar-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.page-footer {
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid var(--border-color);
}

.page-actions {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}

.page-meta {
  display: flex;
  gap: 2rem;
  font-size: 0.9rem;
  color: var(--text-secondary);
  flex-wrap: wrap;
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .page-container {
    padding: 1rem;
  }
  
  .page-content {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .page-sidebar {
    position: static;
    order: -1;
  }
  
  .page-title {
    font-size: 2rem;
  }
  
  .page-actions {
    justify-content: center;
  }
  
  .page-meta {
    justify-content: center;
    text-align: center;
  }
}
</style>

<!-- é¡µé¢ç‰¹å®šçš„JavaScript -->
<script>
// è‡ªåŠ¨ç”Ÿæˆé¡µé¢ç›®å½•
document.addEventListener('DOMContentLoaded', function() {
  const tocContainer = document.getElementById('page-toc');
  if (!tocContainer) return;
  
  const headings = document.querySelectorAll('.page-article h2, .page-article h3, .page-article h4');
  if (headings.length === 0) {
    tocContainer.innerHTML = '<p class="no-toc">æ­¤é¡µé¢æ²¡æœ‰æ ‡é¢˜</p>';
    return;
  }
  
  const tocList = document.createElement('ul');
  tocList.className = 'toc-list';
  
  headings.forEach((heading, index) => {
    const id = heading.id || `heading-${index}`;
    heading.id = id;
    
    const li = document.createElement('li');
    li.className = `toc-item toc-${heading.tagName.toLowerCase()}`;
    
    const link = document.createElement('a');
    link.href = `#${id}`;
    link.textContent = heading.textContent;
    link.className = 'toc-link';
    
    li.appendChild(link);
    tocList.appendChild(li);
  });
  
  tocContainer.appendChild(tocList);
});

// åˆ†äº«åŠŸèƒ½
document.getElementById('share-page')?.addEventListener('click', function() {
  if (navigator.share) {
    navigator.share({
      title: document.title,
      url: window.location.href
    });
  } else {
    // å¤åˆ¶é“¾æ¥åˆ°å‰ªè´´æ¿
    navigator.clipboard.writeText(window.location.href).then(() => {
      alert('é¡µé¢é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
    });
  }
});
</script>
  </main>

  <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
  <button id="back-to-top" class="back-to-top" title="è¿”å›é¡¶éƒ¨">
    <i class="fas fa-chevron-up"></i>
  </button>

  <!-- é¡µè„š -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</h3>
          <p>ç³»ç»ŸåŒ–æ•´ç†PythonçŸ¥è¯†ä½“ç³»çš„å¼€æºé¡¹ç›®</p>
        </div>
        <div class="footer-section">
          <h4>å¿«é€Ÿé“¾æ¥</h4>
          <ul>
            <li><a href="/PythonModelBook/docs/basics/">åŸºç¡€è¯­æ³•</a></li>
            <li><a href="/PythonModelBook/docs/builtins/">å†…ç½®å‡½æ•°</a></li>
            <li><a href="/PythonModelBook/docs/stdlib/">æ ‡å‡†åº“</a></li>
            <li><a href="/PythonModelBook/docs/thirdparty/">ç¬¬ä¸‰æ–¹åº“</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>ç¤¾åŒº</h4>
          <ul>
            <li><a href="https://github.com/liberalchang/PythonModelBook" target="_blank">GitHub</a></li>
            <li><a href="/PythonModelBook/CONTRIBUTING/">è´¡çŒ®æŒ‡å—</a></li>
            <li><a href="/PythonModelBook/about/">å…³äºé¡¹ç›®</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£. é‡‡ç”¨ <a href="/PythonModelBook/LICENSE">MIT License</a> å¼€æºåè®®.</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="/PythonModelBook/assets/js/main.js"></script>
  <script src="/PythonModelBook/assets/js/search.js"></script>
  
  <script src="/PythonModelBook/assets/js/docs.js"></script>
  
</body>

</html>