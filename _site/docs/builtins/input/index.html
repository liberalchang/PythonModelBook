<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>input() - è¾“å…¥å‡½æ•° - PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</title>
  <meta name="description" content="ä»æ ‡å‡†è¾“å…¥è¯»å–ç”¨æˆ·è¾“å…¥çš„å†…ç½®å‡½æ•°">

  <!-- SEOæ ‡ç­¾ -->
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>input() - è¾“å…¥å‡½æ•° | PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="input() - è¾“å…¥å‡½æ•°" />
<meta name="author" content="Pythonæ–‡æ¡£å·¥ç¨‹å¸ˆ" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="ä»æ ‡å‡†è¾“å…¥è¯»å–ç”¨æˆ·è¾“å…¥çš„å†…ç½®å‡½æ•°" />
<meta property="og:description" content="ä»æ ‡å‡†è¾“å…¥è¯»å–ç”¨æˆ·è¾“å…¥çš„å†…ç½®å‡½æ•°" />
<link rel="canonical" href="http://0.0.0.0:4000/PythonModelBook/docs/builtins/input/" />
<meta property="og:url" content="http://0.0.0.0:4000/PythonModelBook/docs/builtins/input/" />
<meta property="og:site_name" content="PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-01-15T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="input() - è¾“å…¥å‡½æ•°" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pythonæ–‡æ¡£å·¥ç¨‹å¸ˆ"},"dateModified":"2024-01-15T00:00:00+08:00","datePublished":"2024-01-15T00:00:00+08:00","description":"ä»æ ‡å‡†è¾“å…¥è¯»å–ç”¨æˆ·è¾“å…¥çš„å†…ç½®å‡½æ•°","headline":"input() - è¾“å…¥å‡½æ•°","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/PythonModelBook/docs/builtins/input/"},"url":"http://0.0.0.0:4000/PythonModelBook/docs/builtins/input/"}</script>
<!-- End Jekyll SEO tag -->


  <!-- æ ·å¼æ–‡ä»¶ -->
  <link rel="stylesheet" href="/PythonModelBook/assets/css/main.css">
  <link rel="stylesheet" href="/PythonModelBook/assets/css/light-theme.css">
  <link rel="stylesheet" href="/PythonModelBook/assets/css/dark-theme.css">

  <!-- å­—ä½“ -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- å›¾æ ‡ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- æœç´¢åŠŸèƒ½ -->
  <script src="https://unpkg.com/lunr/lunr.js"></script>
</head>

<body>
  <!-- å¯¼èˆªæ  -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <a href="/PythonModelBook/" class="brand-link">
          <i class="fab fa-python"></i>
          <span>PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</span>
        </a>
      </div>

      <!-- æœç´¢æ¡† -->
      <div class="nav-search">
        <div class="search-container">
          <input type="text" id="search-input" placeholder="æœç´¢æ–‡æ¡£..." class="search-input">
          <i class="fas fa-search search-icon"></i>
          <div id="search-results" class="search-results"></div>
        </div>
      </div>

      <!-- å¯¼èˆªèœå• -->
      <div class="nav-menu">
        <a href="/PythonModelBook/" class="nav-link">é¦–é¡µ</a>
        <a href="/PythonModelBook/docs/" class="nav-link">æ–‡æ¡£</a>
        <a href="/PythonModelBook/about/" class="nav-link">å…³äº</a>
        <button id="theme-toggle" class="theme-toggle" title="åˆ‡æ¢ä¸»é¢˜">
          <i class="fas fa-moon"></i>
        </button>
      </div>

      <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
      <button class="mobile-menu-btn" id="mobile-menu-btn">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- ä¸»è¦å†…å®¹ -->
  <main class="main-content">
    <div class="doc-container">
  <!-- æ–‡æ¡£å†…å®¹åŒºåŸŸ -->
  <main class="doc-content">
    <article class="doc-article">
      <!-- æ–‡æ¡£å¤´éƒ¨ä¿¡æ¯ -->
      <header class="doc-header">
        <h1 class="doc-title">input() - è¾“å…¥å‡½æ•°</h1>
        
        
        <p class="doc-description">ä»æ ‡å‡†è¾“å…¥è¯»å–ç”¨æˆ·è¾“å…¥çš„å†…ç½®å‡½æ•°</p>
        
        
        <div class="doc-meta">
          
          <span class="doc-category">åˆ†ç±»: builtins</span>
          
          
          
          <span class="doc-difficulty">éš¾åº¦: åˆçº§</span>
          
          
          
          <span class="doc-updated">æ›´æ–°: 2024-01-15</span>
          
        </div>
        
        
        <div class="doc-tags">
          
          <span class="tag">è¾“å…¥</span>
          
          <span class="tag">ç”¨æˆ·äº¤äº’</span>
          
          <span class="tag">å­—ç¬¦ä¸²</span>
          
          <span class="tag">æ§åˆ¶å°</span>
          
        </div>
        
      </header>
      
      <!-- æ–‡æ¡£æ­£æ–‡ -->
      <div class="doc-body">
        <h1 id="input---è¾“å…¥å‡½æ•°">input() - è¾“å…¥å‡½æ•°</h1>

<h2 id="-æ¦‚è¿°">ğŸ“ æ¦‚è¿°</h2>

<p><code class="language-plaintext highlighter-rouge">input()</code> æ˜¯Pythonä¸­çš„å†…ç½®å‡½æ•°ï¼Œç”¨äºä»æ ‡å‡†è¾“å…¥ï¼ˆé€šå¸¸æ˜¯é”®ç›˜ï¼‰è¯»å–ç”¨æˆ·è¾“å…¥ã€‚å®ƒä¼šæš‚åœç¨‹åºæ‰§è¡Œï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥æ–‡æœ¬å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼Œç„¶åå°†è¾“å…¥çš„å†…å®¹ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ã€‚è¿™æ˜¯Pythonä¸­å®ç°ç”¨æˆ·äº¤äº’çš„æœ€åŸºæœ¬æ–¹å¼ã€‚</p>

<h2 id="-å­¦ä¹ ç›®æ ‡">ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>

<ul>
  <li>æŒæ¡input()å‡½æ•°çš„åŸºæœ¬ç”¨æ³•å’Œå‚æ•°</li>
  <li>ç†è§£input()å‡½æ•°çš„è¿”å›å€¼ç‰¹æ€§</li>
  <li>å­¦ä¼šå¤„ç†ç”¨æˆ·è¾“å…¥çš„å„ç§æƒ…å†µ</li>
  <li>æŒæ¡è¾“å…¥éªŒè¯å’Œé”™è¯¯å¤„ç†æŠ€å·§</li>
</ul>

<h2 id="-å‰ç½®çŸ¥è¯†">ğŸ“‹ å‰ç½®çŸ¥è¯†</h2>

<ul>
  <li>PythonåŸºæœ¬è¯­æ³•</li>
  <li>å­—ç¬¦ä¸²æ“ä½œ</li>
  <li>ç±»å‹è½¬æ¢ï¼ˆint(), float()ç­‰ï¼‰</li>
  <li>å¼‚å¸¸å¤„ç†åŸºç¡€</li>
</ul>

<h2 id="-è¯¦ç»†å†…å®¹">ğŸ” è¯¦ç»†å†…å®¹</h2>

<h3 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h3>

<p><code class="language-plaintext highlighter-rouge">input()</code> å‡½æ•°ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€è¡Œæ–‡æœ¬ï¼Œå»é™¤æœ«å°¾çš„æ¢è¡Œç¬¦ï¼Œå¹¶å°†ç»“æœä½œä¸ºå­—ç¬¦ä¸²è¿”å›ã€‚å¦‚æœæä¾›äº†æç¤ºä¿¡æ¯å‚æ•°ï¼Œä¼šåœ¨ç­‰å¾…è¾“å…¥å‰æ˜¾ç¤ºè¯¥æç¤ºã€‚</p>

<h3 id="è¯­æ³•æ ¼å¼">è¯­æ³•æ ¼å¼</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">input</span><span class="p">([</span><span class="n">prompt</span><span class="p">])</span>
</code></pre></div></div>

<h3 id="å‚æ•°è¯´æ˜">å‚æ•°è¯´æ˜</h3>

<table>
  <thead>
    <tr>
      <th>å‚æ•°å</th>
      <th>ç±»å‹</th>
      <th>å¿…éœ€</th>
      <th>é»˜è®¤å€¼</th>
      <th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>prompt</td>
      <td>str</td>
      <td>å¦</td>
      <td>æ— </td>
      <td>æ˜¾ç¤ºç»™ç”¨æˆ·çš„æç¤ºä¿¡æ¯</td>
    </tr>
  </tbody>
</table>

<h3 id="è¿”å›å€¼">è¿”å›å€¼</h3>

<ul>
  <li><strong>ç±»å‹</strong>: str</li>
  <li><strong>è¯´æ˜</strong>: ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ï¼ˆå»é™¤æœ«å°¾æ¢è¡Œç¬¦ï¼‰</li>
  <li><strong>ç‰¹ç‚¹</strong>: æ€»æ˜¯è¿”å›å­—ç¬¦ä¸²ç±»å‹ï¼Œå³ä½¿ç”¨æˆ·è¾“å…¥æ•°å­—</li>
</ul>

<h2 id="-å®é™…åº”ç”¨">ğŸ’¡ å®é™…åº”ç”¨</h2>

<h3 id="åŸºç¡€ç”¨æ³•">åŸºç¡€ç”¨æ³•</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># åŸºæœ¬è¾“å…¥
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">åŸºæœ¬è¾“å…¥ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">name</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æ‚¨çš„å§“å: </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‚¨å¥½ï¼Œ</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">ï¼</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ— æç¤ºè¾“å…¥
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ— æç¤ºè¾“å…¥:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥ä»»æ„å†…å®¹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">user_input</span> <span class="o">=</span> <span class="nf">input</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‚¨è¾“å…¥äº†: </span><span class="si">{</span><span class="n">user_input</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å¤šè¡Œæç¤º
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å¤šè¡Œæç¤ºç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">age</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æ‚¨çš„å¹´é¾„</span><span class="se">\n</span><span class="s">(è¾“å…¥æ•°å­—): </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‚¨çš„å¹´é¾„æ˜¯: </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è¾“å…¥ç±»å‹æ¼”ç¤º
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¾“å…¥ç±»å‹æ¼”ç¤º:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">test_inputs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="sh">"</span><span class="s">123</span><span class="sh">"</span><span class="p">,</span>      <span class="c1"># æ•°å­—å­—ç¬¦ä¸²
</span>    <span class="sh">"</span><span class="s">3.14</span><span class="sh">"</span><span class="p">,</span>     <span class="c1"># æµ®ç‚¹æ•°å­—ç¬¦ä¸²
</span>    <span class="sh">"</span><span class="s">hello</span><span class="sh">"</span><span class="p">,</span>    <span class="c1"># æ™®é€šå­—ç¬¦ä¸²
</span>    <span class="sh">""</span><span class="p">,</span>         <span class="c1"># ç©ºå­—ç¬¦ä¸²
</span>    <span class="sh">"</span><span class="s">  spaces  </span><span class="sh">"</span> <span class="c1"># åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ¨¡æ‹Ÿä¸åŒç±»å‹çš„è¾“å…¥:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">test_input</span> <span class="ow">in</span> <span class="n">test_inputs</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥: </span><span class="sh">'</span><span class="si">{</span><span class="n">test_input</span><span class="si">}</span><span class="sh">'</span><span class="s"> -&gt; ç±»å‹: </span><span class="si">{</span><span class="nf">type</span><span class="p">(</span><span class="n">test_input</span><span class="p">)</span><span class="si">}</span><span class="s">, é•¿åº¦: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">test_input</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å®é™…äº¤äº’ç¤ºä¾‹
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å®é™…äº¤äº’ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">favorite_color</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æ‚¨æœ€å–œæ¬¢çš„é¢œè‰²æ˜¯ä»€ä¹ˆ? </span><span class="sh">"</span><span class="p">)</span>
<span class="n">favorite_number</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æ‚¨æœ€å–œæ¬¢çš„æ•°å­—æ˜¯ä»€ä¹ˆ? </span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">ä¸ªäººä¿¡æ¯æ€»ç»“:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å§“å: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å¹´é¾„: </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å–œæ¬¢çš„é¢œè‰²: </span><span class="si">{</span><span class="n">favorite_color</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å–œæ¬¢çš„æ•°å­—: </span><span class="si">{</span><span class="n">favorite_number</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è¾“å…¥éªŒè¯åŸºç¡€
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¾“å…¥éªŒè¯ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">password</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è®¾ç½®å¯†ç  (è‡³å°‘6ä½): </span><span class="sh">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">6</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¯†ç è®¾ç½®æˆåŠŸï¼</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¯†ç å¤ªçŸ­ï¼Œè¯·é‡æ–°è¾“å…¥</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å¤„ç†ç‰¹æ®Šå­—ç¬¦
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç‰¹æ®Šå­—ç¬¦å¤„ç†:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">special_input</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„æ–‡æœ¬: </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åŸå§‹è¾“å…¥: </span><span class="si">{</span><span class="nf">repr</span><span class="p">(</span><span class="n">special_input</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ˜¾ç¤ºè¾“å…¥: </span><span class="si">{</span><span class="n">special_input</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥é•¿åº¦: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">special_input</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å¤§å°å†™å¤„ç†
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å¤§å°å†™å¤„ç†:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æ‚¨åŒæ„æ¡æ¬¾å—? (yes/no): </span><span class="sh">"</span><span class="p">)</span>
<span class="n">response_lower</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">lower</span><span class="p">().</span><span class="nf">strip</span><span class="p">()</span>
<span class="k">if</span> <span class="n">response_lower</span> <span class="ow">in</span> <span class="p">[</span><span class="sh">'</span><span class="s">yes</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">æ˜¯</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">åŒæ„</span><span class="sh">'</span><span class="p">]:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ„Ÿè°¢æ‚¨çš„åŒæ„ï¼</span><span class="sh">"</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">response_lower</span> <span class="ow">in</span> <span class="p">[</span><span class="sh">'</span><span class="s">no</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">n</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">å¦</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">ä¸åŒæ„</span><span class="sh">'</span><span class="p">]:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ‚¨é€‰æ‹©äº†ä¸åŒæ„</span><span class="sh">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ— æ³•è¯†åˆ«çš„å›ç­”: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="æ•°æ®ç±»å‹è½¬æ¢">æ•°æ®ç±»å‹è½¬æ¢</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># æ•°å­—è¾“å…¥å¤„ç†
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ•°å­—è¾“å…¥å¤„ç†:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ•´æ•°è¾“å…¥
</span><span class="k">def</span> <span class="nf">get_integer_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">min_val</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_val</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–æ•´æ•°è¾“å…¥ï¼Œå¸¦éªŒè¯</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">min_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">min_val</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥å€¼ä¸èƒ½å°äº </span><span class="si">{</span><span class="n">min_val</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">max_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="n">max_val</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥å€¼ä¸èƒ½å¤§äº </span><span class="si">{</span><span class="n">max_val</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æœ‰æ•ˆçš„æ•´æ•°</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æµ®ç‚¹æ•°è¾“å…¥
</span><span class="k">def</span> <span class="nf">get_float_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">min_val</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">max_val</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–æµ®ç‚¹æ•°è¾“å…¥ï¼Œå¸¦éªŒè¯</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nf">float</span><span class="p">(</span><span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">min_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">min_val</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥å€¼ä¸èƒ½å°äº </span><span class="si">{</span><span class="n">min_val</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">max_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="n">max_val</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥å€¼ä¸èƒ½å¤§äº </span><span class="si">{</span><span class="n">max_val</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ä½¿ç”¨ç¤ºä¾‹
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ•´æ•°è¾“å…¥ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">age</span> <span class="o">=</span> <span class="nf">get_integer_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ (0-150): </span><span class="sh">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‚¨çš„å¹´é¾„æ˜¯: </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æµ®ç‚¹æ•°è¾“å…¥ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">height</span> <span class="o">=</span> <span class="nf">get_float_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æ‚¨çš„èº«é«˜ (ç±³, 0.5-3.0): </span><span class="sh">"</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‚¨çš„èº«é«˜æ˜¯: </span><span class="si">{</span><span class="n">height</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> ç±³</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å¸ƒå°”å€¼è¾“å…¥
</span><span class="k">def</span> <span class="nf">get_boolean_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–å¸ƒå°”å€¼è¾“å…¥</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">).</span><span class="nf">lower</span><span class="p">().</span><span class="nf">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">response</span> <span class="ow">in</span> <span class="p">[</span><span class="sh">'</span><span class="s">true</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">t</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">yes</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">1</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">æ˜¯</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">å¯¹</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">çœŸ</span><span class="sh">'</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="n">response</span> <span class="ow">in</span> <span class="p">[</span><span class="sh">'</span><span class="s">false</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">f</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">no</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">n</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">0</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">å¦</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">é”™</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">å‡</span><span class="sh">'</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥ yes/no, true/false, æˆ– 1/0</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å¸ƒå°”å€¼è¾“å…¥ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">is_student</span> <span class="o">=</span> <span class="nf">get_boolean_input</span><span class="p">(</span><span class="sh">"</span><span class="s">æ‚¨æ˜¯å­¦ç”Ÿå—? (yes/no): </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ˜¯å¦ä¸ºå­¦ç”Ÿ: </span><span class="si">{</span><span class="n">is_student</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># é€‰æ‹©è¾“å…¥
</span><span class="k">def</span> <span class="nf">get_choice_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">choices</span><span class="p">,</span> <span class="n">case_sensitive</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–é€‰æ‹©è¾“å…¥</span><span class="sh">"""</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">case_sensitive</span><span class="p">:</span>
        <span class="n">choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">choice</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">]</span>
    
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">case_sensitive</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">response</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¯·é€‰æ‹©ä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€: </span><span class="si">{</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">é€‰æ‹©è¾“å…¥ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">çº¢è‰²</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">ç»¿è‰²</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">è“è‰²</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">é»„è‰²</span><span class="sh">'</span><span class="p">]</span>
<span class="n">chosen_color</span> <span class="o">=</span> <span class="nf">get_choice_input</span><span class="p">(</span>
    <span class="sa">f</span><span class="sh">"</span><span class="s">è¯·é€‰æ‹©é¢œè‰² (</span><span class="si">{</span><span class="sh">'</span><span class="s">/</span><span class="sh">'</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span><span class="si">}</span><span class="s">): </span><span class="sh">"</span><span class="p">,</span> 
    <span class="n">colors</span>
<span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‚¨é€‰æ‹©çš„é¢œè‰²æ˜¯: </span><span class="si">{</span><span class="n">chosen_color</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># åˆ—è¡¨è¾“å…¥
</span><span class="k">def</span> <span class="nf">get_list_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="sh">'</span><span class="s">,</span><span class="sh">'</span><span class="p">,</span> <span class="n">item_type</span><span class="o">=</span><span class="nb">str</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–åˆ—è¡¨è¾“å…¥</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">user_input</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">user_input</span><span class="p">.</span><span class="nf">strip</span><span class="p">():</span>
                <span class="k">return</span> <span class="p">[]</span>
            
            <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">user_input</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">separator</span><span class="p">)]</span>
            <span class="k">if</span> <span class="n">item_type</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">:</span>
                <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="nf">item_type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>
            
            <span class="k">return</span> <span class="n">items</span>
        <span class="k">except</span> <span class="nb">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥æ ¼å¼é”™è¯¯: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥ç”¨ </span><span class="sh">'</span><span class="si">{</span><span class="n">separator</span><span class="si">}</span><span class="sh">'</span><span class="s"> åˆ†éš”çš„å€¼</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">åˆ—è¡¨è¾“å…¥ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">hobbies</span> <span class="o">=</span> <span class="nf">get_list_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æ‚¨çš„çˆ±å¥½ (ç”¨é€—å·åˆ†éš”): </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‚¨çš„çˆ±å¥½: </span><span class="si">{</span><span class="n">hobbies</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="n">scores</span> <span class="o">=</span> <span class="nf">get_list_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥è€ƒè¯•åˆ†æ•° (ç”¨é€—å·åˆ†éš”): </span><span class="sh">"</span><span class="p">,</span> <span class="n">item_type</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="k">if</span> <span class="n">scores</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åˆ†æ•°åˆ—è¡¨: </span><span class="si">{</span><span class="n">scores</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å¹³å‡åˆ†: </span><span class="si">{</span><span class="nf">sum</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span><span class="o">/</span><span class="nf">len</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æœ€é«˜åˆ†: </span><span class="si">{</span><span class="nf">max</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æœ€ä½åˆ†: </span><span class="si">{</span><span class="nf">min</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å­—å…¸è¾“å…¥
</span><span class="k">def</span> <span class="nf">get_dict_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">pair_separator</span><span class="o">=</span><span class="sh">'</span><span class="s">,</span><span class="sh">'</span><span class="p">,</span> <span class="n">key_value_separator</span><span class="o">=</span><span class="sh">'</span><span class="s">=</span><span class="sh">'</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–å­—å…¸è¾“å…¥</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">user_input</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">user_input</span><span class="p">.</span><span class="nf">strip</span><span class="p">():</span>
                <span class="k">return</span> <span class="p">{}</span>
            
            <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">pairs</span> <span class="o">=</span> <span class="n">user_input</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">pair_separator</span><span class="p">)</span>
            
            <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">key_value_separator</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pair</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç¼ºå°‘é”®å€¼åˆ†éš”ç¬¦ </span><span class="sh">'</span><span class="si">{</span><span class="n">key_value_separator</span><span class="si">}</span><span class="sh">'"</span><span class="p">)</span>
                
                <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">pair</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="n">key_value_separator</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">result</span><span class="p">[</span><span class="n">key</span><span class="p">.</span><span class="nf">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">value</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span>
            
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">except</span> <span class="nb">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥æ ¼å¼é”™è¯¯: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ ¼å¼: key</span><span class="si">{</span><span class="n">key_value_separator</span><span class="si">}</span><span class="s">value</span><span class="si">{</span><span class="n">pair_separator</span><span class="si">}</span><span class="s">key</span><span class="si">{</span><span class="n">key_value_separator</span><span class="si">}</span><span class="s">value</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å­—å…¸è¾“å…¥ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">user_info</span> <span class="o">=</span> <span class="nf">get_dict_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥ä¸ªäººä¿¡æ¯ (æ ¼å¼: name=å¼ ä¸‰,age=25,city=åŒ—äº¬): </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ä¸ªäººä¿¡æ¯: </span><span class="si">{</span><span class="n">user_info</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">user_info</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="é«˜çº§è¾“å…¥å¤„ç†">é«˜çº§è¾“å…¥å¤„ç†</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">re</span>
<span class="kn">import</span> <span class="n">datetime</span>

<span class="c1"># æ­£åˆ™è¡¨è¾¾å¼éªŒè¯
</span><span class="k">def</span> <span class="nf">get_email_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–é‚®ç®±è¾“å…¥ï¼Œå¸¦æ ¼å¼éªŒè¯</span><span class="sh">"""</span>
    <span class="n">email_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="sh">'</span><span class="s">^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$</span><span class="sh">'</span>
    
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">email</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="n">email_pattern</span><span class="p">,</span> <span class="n">email</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">email</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_phone_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–ç”µè¯å·ç è¾“å…¥ï¼Œå¸¦æ ¼å¼éªŒè¯</span><span class="sh">"""</span>
    <span class="n">phone_patterns</span> <span class="o">=</span> <span class="p">[</span>
        <span class="sa">r</span><span class="sh">'</span><span class="s">^1[3-9]\d{9}$</span><span class="sh">'</span><span class="p">,</span>  <span class="c1"># ä¸­å›½æ‰‹æœºå·
</span>        <span class="sa">r</span><span class="sh">'</span><span class="s">^\d{3}-\d{4}-\d{4}$</span><span class="sh">'</span><span class="p">,</span>  <span class="c1"># ç¾å›½æ ¼å¼
</span>        <span class="sa">r</span><span class="sh">'</span><span class="s">^\d{11}$</span><span class="sh">'</span>  <span class="c1"># 11ä½æ•°å­—
</span>    <span class="p">]</span>
    
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">phone</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="nf">any</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">phone</span><span class="p">)</span> <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="n">phone_patterns</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">phone</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µè¯å·ç  (å¦‚: 13812345678 æˆ– 123-4567-8901)</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_date_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">date_format</span><span class="o">=</span><span class="sh">'</span><span class="s">%Y-%m-%d</span><span class="sh">'</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–æ—¥æœŸè¾“å…¥ï¼Œå¸¦æ ¼å¼éªŒè¯</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">date_str</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span>
            <span class="n">date_obj</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="nf">strptime</span><span class="p">(</span><span class="n">date_str</span><span class="p">,</span> <span class="n">date_format</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">date_obj</span><span class="p">.</span><span class="nf">date</span><span class="p">()</span>
        <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æœ‰æ•ˆçš„æ—¥æœŸæ ¼å¼ (å¦‚: </span><span class="si">{</span><span class="n">datetime</span><span class="p">.</span><span class="n">date</span><span class="p">.</span><span class="nf">today</span><span class="p">().</span><span class="nf">strftime</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">é«˜çº§è¾“å…¥éªŒè¯ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># é‚®ç®±è¾“å…¥
</span><span class="n">email</span> <span class="o">=</span> <span class="nf">get_email_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€: </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">é‚®ç®±: </span><span class="si">{</span><span class="n">email</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ç”µè¯è¾“å…¥
</span><span class="n">phone</span> <span class="o">=</span> <span class="nf">get_phone_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æ‚¨çš„ç”µè¯å·ç : </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç”µè¯: </span><span class="si">{</span><span class="n">phone</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ—¥æœŸè¾“å…¥
</span><span class="n">birthdate</span> <span class="o">=</span> <span class="nf">get_date_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æ‚¨çš„å‡ºç”Ÿæ—¥æœŸ (YYYY-MM-DD): </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å‡ºç”Ÿæ—¥æœŸ: </span><span class="si">{</span><span class="n">birthdate</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è®¡ç®—å¹´é¾„
</span><span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">date</span><span class="p">.</span><span class="nf">today</span><span class="p">()</span>
<span class="n">age</span> <span class="o">=</span> <span class="n">today</span><span class="p">.</span><span class="n">year</span> <span class="o">-</span> <span class="n">birthdate</span><span class="p">.</span><span class="n">year</span> <span class="o">-</span> <span class="p">((</span><span class="n">today</span><span class="p">.</span><span class="n">month</span><span class="p">,</span> <span class="n">today</span><span class="p">.</span><span class="n">day</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">birthdate</span><span class="p">.</span><span class="n">month</span><span class="p">,</span> <span class="n">birthdate</span><span class="p">.</span><span class="n">day</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‚¨çš„å¹´é¾„: </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="s"> å²</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å¯†ç å¼ºåº¦éªŒè¯
</span><span class="k">def</span> <span class="nf">get_strong_password</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–å¼ºå¯†ç è¾“å…¥</span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">check_password_strength</span><span class="p">(</span><span class="n">password</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">æ£€æŸ¥å¯†ç å¼ºåº¦</span><span class="sh">"""</span>
        <span class="n">issues</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">:</span>
            <span class="n">issues</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">"</span><span class="s">é•¿åº¦è‡³å°‘8ä½</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">[a-z]</span><span class="sh">'</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
            <span class="n">issues</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">"</span><span class="s">åŒ…å«å°å†™å­—æ¯</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">[A-Z]</span><span class="sh">'</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
            <span class="n">issues</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">"</span><span class="s">åŒ…å«å¤§å†™å­—æ¯</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">\d</span><span class="sh">'</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
            <span class="n">issues</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">"</span><span class="s">åŒ…å«æ•°å­—</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">[!@#$%^&amp;*(),.?</span><span class="sh">"</span><span class="s">:{}|&lt;&gt;]</span><span class="sh">'</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
            <span class="n">issues</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">"</span><span class="s">åŒ…å«ç‰¹æ®Šå­—ç¬¦</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">issues</span>
    
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">password</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
        <span class="n">issues</span> <span class="o">=</span> <span class="nf">check_password_strength</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">issues</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">password</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¯†ç å¼ºåº¦ä¸è¶³ï¼Œéœ€è¦:</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">issue</span> <span class="ow">in</span> <span class="n">issues</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  - </span><span class="si">{</span><span class="n">issue</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å¯†ç å¼ºåº¦éªŒè¯:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">strong_password</span> <span class="o">=</span> <span class="nf">get_strong_password</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è®¾ç½®å¼ºå¯†ç : </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¯†ç è®¾ç½®æˆåŠŸï¼</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ–‡ä»¶è·¯å¾„è¾“å…¥
</span><span class="kn">import</span> <span class="n">os</span>

<span class="k">def</span> <span class="nf">get_file_path_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">must_exist</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">file_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è·å–æ–‡ä»¶è·¯å¾„è¾“å…¥</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">).</span><span class="nf">strip</span><span class="p">().</span><span class="nf">strip</span><span class="p">(</span><span class="sh">'"</span><span class="se">\'</span><span class="sh">'</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">must_exist</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">continue</span>
        
        <span class="k">if</span> <span class="n">file_type</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">file_path</span><span class="p">.</span><span class="nf">lower</span><span class="p">().</span><span class="nf">endswith</span><span class="p">(</span><span class="n">file_type</span><span class="p">.</span><span class="nf">lower</span><span class="p">()):</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥ </span><span class="si">{</span><span class="n">file_type</span><span class="si">}</span><span class="s"> ç±»å‹çš„æ–‡ä»¶</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">continue</span>
        
        <span class="k">return</span> <span class="n">file_path</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ–‡ä»¶è·¯å¾„è¾“å…¥ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">(è¿™é‡Œåªæ˜¯æ¼”ç¤ºï¼Œå®é™…è¿è¡Œæ—¶éœ€è¦çœŸå®æ–‡ä»¶)</span><span class="sh">"</span><span class="p">)</span>
<span class="c1"># file_path = get_file_path_input("è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„: ", must_exist=True, file_type=".txt")
# print(f"é€‰æ‹©çš„æ–‡ä»¶: {file_path}")
</span>
<span class="c1"># å¤šæ­¥éª¤è¾“å…¥å‘å¯¼
</span><span class="k">def</span> <span class="nf">user_registration_wizard</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">ç”¨æˆ·æ³¨å†Œå‘å¯¼</span><span class="sh">"""</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">=== ç”¨æˆ·æ³¨å†Œå‘å¯¼ ===</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># æ”¶é›†ç”¨æˆ·ä¿¡æ¯
</span>    <span class="n">user_data</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç¬¬1æ­¥: åŸºæœ¬ä¿¡æ¯</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">user_data</span><span class="p">[</span><span class="sh">'</span><span class="s">username</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">ç”¨æˆ·å: </span><span class="sh">"</span><span class="p">)</span>
    <span class="n">user_data</span><span class="p">[</span><span class="sh">'</span><span class="s">email</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="nf">get_email_input</span><span class="p">(</span><span class="sh">"</span><span class="s">é‚®ç®±: </span><span class="sh">"</span><span class="p">)</span>
    <span class="n">user_data</span><span class="p">[</span><span class="sh">'</span><span class="s">phone</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="nf">get_phone_input</span><span class="p">(</span><span class="sh">"</span><span class="s">ç”µè¯: </span><span class="sh">"</span><span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç¬¬2æ­¥: ä¸ªäººä¿¡æ¯</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">user_data</span><span class="p">[</span><span class="sh">'</span><span class="s">full_name</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">çœŸå®å§“å: </span><span class="sh">"</span><span class="p">)</span>
    <span class="n">user_data</span><span class="p">[</span><span class="sh">'</span><span class="s">birthdate</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="nf">get_date_input</span><span class="p">(</span><span class="sh">"</span><span class="s">å‡ºç”Ÿæ—¥æœŸ (YYYY-MM-DD): </span><span class="sh">"</span><span class="p">)</span>
    <span class="n">user_data</span><span class="p">[</span><span class="sh">'</span><span class="s">gender</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="nf">get_choice_input</span><span class="p">(</span><span class="sh">"</span><span class="s">æ€§åˆ« (ç”·/å¥³/å…¶ä»–): </span><span class="sh">"</span><span class="p">,</span> <span class="p">[</span><span class="sh">'</span><span class="s">ç”·</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">å¥³</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">å…¶ä»–</span><span class="sh">'</span><span class="p">])</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç¬¬3æ­¥: åå¥½è®¾ç½®</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">user_data</span><span class="p">[</span><span class="sh">'</span><span class="s">interests</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="nf">get_list_input</span><span class="p">(</span><span class="sh">"</span><span class="s">å…´è¶£çˆ±å¥½ (ç”¨é€—å·åˆ†éš”): </span><span class="sh">"</span><span class="p">)</span>
    <span class="n">user_data</span><span class="p">[</span><span class="sh">'</span><span class="s">newsletter</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="nf">get_boolean_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è®¢é˜…æ–°é—»é‚®ä»¶? (yes/no): </span><span class="sh">"</span><span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç¬¬4æ­¥: å®‰å…¨è®¾ç½®</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">user_data</span><span class="p">[</span><span class="sh">'</span><span class="s">password</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="nf">get_strong_password</span><span class="p">(</span><span class="sh">"</span><span class="s">è®¾ç½®å¯†ç : </span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># ç¡®è®¤ä¿¡æ¯
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">=== æ³¨å†Œä¿¡æ¯ç¡®è®¤ ===</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">user_data</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="sh">'</span><span class="s">password</span><span class="sh">'</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="sh">'</span><span class="s">*</span><span class="sh">'</span> <span class="o">*</span> <span class="nf">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="n">confirm</span> <span class="o">=</span> <span class="nf">get_boolean_input</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç¡®è®¤æ³¨å†Œ? (yes/no): </span><span class="sh">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">confirm</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ³¨å†ŒæˆåŠŸï¼æ¬¢è¿åŠ å…¥æˆ‘ä»¬ï¼</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">user_data</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ³¨å†Œå·²å–æ¶ˆ</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># è¿è¡Œæ³¨å†Œå‘å¯¼
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç”¨æˆ·æ³¨å†Œå‘å¯¼æ¼”ç¤º:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">(è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„äº¤äº’å¼æ³¨å†Œæµç¨‹æ¼”ç¤º)</span><span class="sh">"</span><span class="p">)</span>
<span class="c1"># registration_result = user_registration_wizard()
</span></code></pre></div></div>

<h3 id="é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æƒ…å†µ">é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æƒ…å†µ</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># å¤„ç†è¾“å…¥ä¸­æ–­
</span><span class="k">def</span> <span class="nf">safe_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">å®‰å…¨çš„è¾“å…¥å‡½æ•°ï¼Œå¤„ç†ä¸­æ–­å¼‚å¸¸</span><span class="sh">"""</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">KeyboardInterrupt</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç”¨æˆ·ä¸­æ–­è¾“å…¥</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ä½¿ç”¨é»˜è®¤å€¼: </span><span class="si">{</span><span class="n">default</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">default</span>
        <span class="k">raise</span>
    <span class="k">except</span> <span class="nb">EOFError</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¾“å…¥æµç»“æŸ</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ä½¿ç”¨é»˜è®¤å€¼: </span><span class="si">{</span><span class="n">default</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">default</span>
        <span class="k">raise</span>

<span class="c1"># è¶…æ—¶è¾“å…¥ï¼ˆéœ€è¦é¢å¤–çš„åº“æ”¯æŒï¼‰
</span><span class="kn">import</span> <span class="n">signal</span>

<span class="k">def</span> <span class="nf">timeout_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">å¸¦è¶…æ—¶çš„è¾“å…¥å‡½æ•°</span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">timeout_handler</span><span class="p">(</span><span class="n">signum</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="nc">TimeoutError</span><span class="p">(</span><span class="sh">"</span><span class="s">è¾“å…¥è¶…æ—¶</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># è®¾ç½®è¶…æ—¶ä¿¡å·
</span>    <span class="n">signal</span><span class="p">.</span><span class="nf">signal</span><span class="p">(</span><span class="n">signal</span><span class="p">.</span><span class="n">SIGALRM</span><span class="p">,</span> <span class="n">timeout_handler</span><span class="p">)</span>
    <span class="n">signal</span><span class="p">.</span><span class="nf">alarm</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
        <span class="n">signal</span><span class="p">.</span><span class="nf">alarm</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># å–æ¶ˆè¶…æ—¶
</span>        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="nb">TimeoutError</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¾“å…¥è¶…æ—¶ (</span><span class="si">{</span><span class="n">timeout</span><span class="si">}</span><span class="s">ç§’)</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">signal</span><span class="p">.</span><span class="nf">alarm</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># ç¡®ä¿å–æ¶ˆè¶…æ—¶
</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">é”™è¯¯å¤„ç†ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å®‰å…¨è¾“å…¥æ¼”ç¤º
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å®‰å…¨è¾“å…¥æ¼”ç¤º (æŒ‰ Ctrl+C æµ‹è¯•ä¸­æ–­å¤„ç†):</span><span class="sh">"</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">safe_result</span> <span class="o">=</span> <span class="nf">safe_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥å†…å®¹ (å¯æŒ‰Ctrl+Cä¸­æ–­): </span><span class="sh">"</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="sh">"</span><span class="s">é»˜è®¤å€¼</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥ç»“æœ: </span><span class="si">{</span><span class="n">safe_result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">KeyboardInterrupt</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ç¨‹åºè¢«ç”¨æˆ·ä¸­æ–­</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è¾“å…¥é‡è¯•æœºåˆ¶
</span><span class="k">def</span> <span class="nf">retry_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">validator</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">å¸¦é‡è¯•æœºåˆ¶çš„è¾“å…¥å‡½æ•°</span><span class="sh">"""</span>
    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">max_retries</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">[å°è¯• </span><span class="si">{</span><span class="n">attempt</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">max_retries</span><span class="si">}</span><span class="s">] </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">validator</span><span class="p">:</span>
                <span class="k">if</span> <span class="nf">validator</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">result</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¾“å…¥éªŒè¯å¤±è´¥</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">result</span>
                
        <span class="nf">except </span><span class="p">(</span><span class="nb">KeyboardInterrupt</span><span class="p">,</span> <span class="nb">EOFError</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¾“å…¥è¢«ä¸­æ–­ (å‰©ä½™å°è¯•: </span><span class="si">{</span><span class="n">max_retries</span> <span class="o">-</span> <span class="n">attempt</span> <span class="o">-</span> <span class="mi">1</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">attempt</span> <span class="o">==</span> <span class="n">max_retries</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span>
    
    <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•° (</span><span class="si">{</span><span class="n">max_retries</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ•°å­—éªŒè¯å™¨
</span><span class="k">def</span> <span class="nf">is_valid_number</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">éªŒè¯æ˜¯å¦ä¸ºæœ‰æ•ˆæ•°å­—</span><span class="sh">"""</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nf">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">é‡è¯•è¾“å…¥æ¼”ç¤º:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">number_input</span> <span class="o">=</span> <span class="nf">retry_input</span><span class="p">(</span>
        <span class="sh">"</span><span class="s">è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—: </span><span class="sh">"</span><span class="p">,</span> 
        <span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> 
        <span class="n">validator</span><span class="o">=</span><span class="n">is_valid_number</span>
    <span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥çš„æ•°å­—: </span><span class="si">{</span><span class="nf">float</span><span class="p">(</span><span class="n">number_input</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥å¤±è´¥: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">KeyboardInterrupt</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ç”¨æˆ·å–æ¶ˆè¾“å…¥</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è¾“å…¥æ—¥å¿—è®°å½•
</span><span class="kn">import</span> <span class="n">datetime</span>

<span class="k">def</span> <span class="nf">logged_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">log_file</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è®°å½•è¾“å…¥æ—¥å¿—çš„å‡½æ•°</span><span class="sh">"""</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="nf">now</span><span class="p">().</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">"</span><span class="s">%Y-%m-%d %H:%M:%S</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
        
        <span class="c1"># è®°å½•æ—¥å¿—
</span>        <span class="n">log_entry</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">[</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}</span><span class="s">] INPUT: </span><span class="si">{</span><span class="n">prompt</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span><span class="si">}</span><span class="s"> -&gt; </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="si">}</span><span class="s"> chars</span><span class="se">\n</span><span class="sh">"</span>
        
        <span class="k">if</span> <span class="n">log_file</span><span class="p">:</span>
            <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">log_file</span><span class="p">,</span> <span class="sh">'</span><span class="s">a</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">LOG: </span><span class="si">{</span><span class="n">log_entry</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">result</span>
        
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">error_log</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">[</span><span class="si">{</span><span class="n">timestamp</span><span class="si">}</span><span class="s">] ERROR: </span><span class="si">{</span><span class="n">prompt</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span><span class="si">}</span><span class="s"> -&gt; </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="sh">"</span>
        
        <span class="k">if</span> <span class="n">log_file</span><span class="p">:</span>
            <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">log_file</span><span class="p">,</span> <span class="sh">'</span><span class="s">a</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">error_log</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ERROR LOG: </span><span class="si">{</span><span class="n">error_log</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="k">raise</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¾“å…¥æ—¥å¿—æ¼”ç¤º:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">logged_result</span> <span class="o">=</span> <span class="nf">logged_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æµ‹è¯•å†…å®¹: </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥å†…å®¹: </span><span class="si">{</span><span class="n">logged_result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è¾“å…¥ç¼“å­˜
</span><span class="k">class</span> <span class="nc">InputCache</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">è¾“å…¥ç¼“å­˜ç±»</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">def</span> <span class="nf">cached_input</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">cache_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_cache</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">å¸¦ç¼“å­˜çš„è¾“å…¥å‡½æ•°</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="n">cache_key</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">cache_key</span> <span class="o">=</span> <span class="n">prompt</span>
        
        <span class="c1"># æ£€æŸ¥ç¼“å­˜
</span>        <span class="k">if</span> <span class="n">use_cache</span> <span class="ow">and</span> <span class="n">cache_key</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">:</span>
            <span class="n">cached_value</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span>
            <span class="n">use_cached</span> <span class="o">=</span> <span class="nf">get_boolean_input</span><span class="p">(</span>
                <span class="sa">f</span><span class="sh">"</span><span class="s">ä½¿ç”¨ç¼“å­˜å€¼ </span><span class="sh">'</span><span class="si">{</span><span class="n">cached_value</span><span class="si">}</span><span class="sh">'</span><span class="s">? (yes/no): </span><span class="sh">"</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">use_cached</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">cached_value</span>
        
        <span class="c1"># è·å–æ–°è¾“å…¥
</span>        <span class="n">result</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
        
        <span class="c1"># ä¿å­˜åˆ°ç¼“å­˜
</span>        <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
        
        <span class="k">return</span> <span class="n">result</span>
    
    <span class="k">def</span> <span class="nf">clear_cache</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">æ¸…ç©ºç¼“å­˜</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">show_cache</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">æ˜¾ç¤ºç¼“å­˜å†…å®¹</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ç¼“å­˜å†…å®¹:</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ç¼“å­˜ä¸ºç©º</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¾“å…¥ç¼“å­˜æ¼”ç¤º:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">input_cache</span> <span class="o">=</span> <span class="nc">InputCache</span><span class="p">()</span>

<span class="c1"># ç¬¬ä¸€æ¬¡è¾“å…¥
</span><span class="n">name1</span> <span class="o">=</span> <span class="n">input_cache</span><span class="p">.</span><span class="nf">cached_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æ‚¨çš„å§“å: </span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å§“å: </span><span class="si">{</span><span class="n">name1</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ç¬¬äºŒæ¬¡è¾“å…¥ï¼ˆä¼šæç¤ºä½¿ç”¨ç¼“å­˜ï¼‰
</span><span class="n">name2</span> <span class="o">=</span> <span class="n">input_cache</span><span class="p">.</span><span class="nf">cached_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·å†æ¬¡è¾“å…¥æ‚¨çš„å§“å: </span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å§“å: </span><span class="si">{</span><span class="n">name2</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="n">input_cache</span><span class="p">.</span><span class="nf">show_cache</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="å®é™…åº”ç”¨åœºæ™¯">å®é™…åº”ç”¨åœºæ™¯</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># å‘½ä»¤è¡Œå·¥å…·ç¤ºä¾‹
</span><span class="k">def</span> <span class="nf">calculator_cli</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">ç®€å•è®¡ç®—å™¨å‘½ä»¤è¡Œç•Œé¢</span><span class="sh">"""</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">=== ç®€å•è®¡ç®—å™¨ ===</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ”¯æŒçš„æ“ä½œ: +, -, *, /, %, **</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¾“å…¥ </span><span class="sh">'</span><span class="s">quit</span><span class="sh">'</span><span class="s"> é€€å‡º</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">expression</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¯·è¾“å…¥è®¡ç®—è¡¨è¾¾å¼: </span><span class="sh">"</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span>
            
            <span class="k">if</span> <span class="n">expression</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="sh">'</span><span class="s">quit</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">exit</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">q</span><span class="sh">'</span><span class="p">]:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å†è§ï¼</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">break</span>
            
            <span class="k">if</span> <span class="ow">not</span> <span class="n">expression</span><span class="p">:</span>
                <span class="k">continue</span>
            
            <span class="c1"># å®‰å…¨çš„è¡¨è¾¾å¼æ±‚å€¼
</span>            <span class="n">allowed_chars</span> <span class="o">=</span> <span class="nf">set</span><span class="p">(</span><span class="sh">'</span><span class="s">0123456789+-*/.% ()</span><span class="sh">'</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">all</span><span class="p">(</span><span class="n">c</span> <span class="ow">in</span> <span class="n">allowed_chars</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">expression</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">'</span><span class="s"> </span><span class="sh">'</span><span class="p">,</span> <span class="sh">''</span><span class="p">)):</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">é”™è¯¯: åŒ…å«ä¸å…è®¸çš„å­—ç¬¦</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">continue</span>
            
            <span class="n">result</span> <span class="o">=</span> <span class="nf">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœ: </span><span class="si">{</span><span class="n">expression</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            
        <span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">é”™è¯¯: é™¤é›¶é”™è¯¯</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">SyntaxError</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">é”™è¯¯: è¯­æ³•é”™è¯¯</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">é”™è¯¯: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># é…ç½®æ–‡ä»¶ç”Ÿæˆå™¨
</span><span class="k">def</span> <span class="nf">config_generator</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">é…ç½®æ–‡ä»¶ç”Ÿæˆå™¨</span><span class="sh">"""</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">=== é…ç½®æ–‡ä»¶ç”Ÿæˆå™¨ ===</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="c1"># æ•°æ®åº“é…ç½®
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ•°æ®åº“é…ç½®:</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">config</span><span class="p">[</span><span class="sh">'</span><span class="s">database</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">'</span><span class="s">host</span><span class="sh">'</span><span class="p">:</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æ•°æ®åº“ä¸»æœº [localhost]: </span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">localhost</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">port</span><span class="sh">'</span><span class="p">:</span> <span class="nf">int</span><span class="p">(</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æ•°æ®åº“ç«¯å£ [5432]: </span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">5432</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">:</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æ•°æ®åº“åç§°: </span><span class="sh">"</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">username</span><span class="sh">'</span><span class="p">:</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">ç”¨æˆ·å: </span><span class="sh">"</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">password</span><span class="sh">'</span><span class="p">:</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">å¯†ç : </span><span class="sh">"</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="c1"># æœåŠ¡å™¨é…ç½®
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æœåŠ¡å™¨é…ç½®:</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">config</span><span class="p">[</span><span class="sh">'</span><span class="s">server</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">'</span><span class="s">host</span><span class="sh">'</span><span class="p">:</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æœåŠ¡å™¨ä¸»æœº [0.0.0.0]: </span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">0.0.0.0</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">port</span><span class="sh">'</span><span class="p">:</span> <span class="nf">int</span><span class="p">(</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æœåŠ¡å™¨ç«¯å£ [8000]: </span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">8000</span><span class="sh">'</span><span class="p">),</span>
        <span class="sh">'</span><span class="s">debug</span><span class="sh">'</span><span class="p">:</span> <span class="nf">get_boolean_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è°ƒè¯•æ¨¡å¼? (yes/no) [no]: </span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">False</span>
    <span class="p">}</span>
    
    <span class="c1"># æ—¥å¿—é…ç½®
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ—¥å¿—é…ç½®:</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">log_level</span> <span class="o">=</span> <span class="nf">get_choice_input</span><span class="p">(</span>
        <span class="sh">"</span><span class="s">æ—¥å¿—çº§åˆ« (DEBUG/INFO/WARNING/ERROR) [INFO]: </span><span class="sh">"</span><span class="p">,</span>
        <span class="p">[</span><span class="sh">'</span><span class="s">DEBUG</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">INFO</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">WARNING</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">ERROR</span><span class="sh">'</span><span class="p">]</span>
    <span class="p">)</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">INFO</span><span class="sh">'</span>
    
    <span class="n">config</span><span class="p">[</span><span class="sh">'</span><span class="s">logging</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">'</span><span class="s">level</span><span class="sh">'</span><span class="p">:</span> <span class="n">log_level</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">file</span><span class="sh">'</span><span class="p">:</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æ—¥å¿—æ–‡ä»¶è·¯å¾„ [app.log]: </span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">app.log</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">max_size</span><span class="sh">'</span><span class="p">:</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">æœ€å¤§æ–‡ä»¶å¤§å° (MB) [10]: </span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">10</span><span class="sh">'</span>
    <span class="p">}</span>
    
    <span class="c1"># ç”Ÿæˆé…ç½®æ–‡ä»¶
</span>    <span class="kn">import</span> <span class="n">json</span>
    <span class="n">config_json</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç”Ÿæˆçš„é…ç½®:</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">config_json</span><span class="p">)</span>
    
    <span class="n">save_config</span> <span class="o">=</span> <span class="nf">get_boolean_input</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ä¿å­˜é…ç½®åˆ°æ–‡ä»¶? (yes/no): </span><span class="sh">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">save_config</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">é…ç½®æ–‡ä»¶å [config.json]: </span><span class="sh">"</span><span class="p">)</span> <span class="ow">or</span> <span class="sh">'</span><span class="s">config.json</span><span class="sh">'</span>
        <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">config_json</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">é…ç½®å·²ä¿å­˜åˆ° </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">config</span>

<span class="c1"># æ•°æ®æ”¶é›†å·¥å…·
</span><span class="k">def</span> <span class="nf">survey_tool</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">é—®å·è°ƒæŸ¥å·¥å…·</span><span class="sh">"""</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">=== ç”¨æˆ·æ»¡æ„åº¦è°ƒæŸ¥ ===</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="n">questions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">q1</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">text</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">æ‚¨å¯¹æˆ‘ä»¬çš„äº§å“æ»¡æ„å—?</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">type</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">scale</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">scale</span><span class="sh">'</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
            <span class="sh">'</span><span class="s">labels</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="sh">'</span><span class="s">éå¸¸ä¸æ»¡æ„</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">ä¸æ»¡æ„</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">ä¸€èˆ¬</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">æ»¡æ„</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">éå¸¸æ»¡æ„</span><span class="sh">'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">q2</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">text</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">æ‚¨ä¼šæ¨èæˆ‘ä»¬çš„äº§å“ç»™æœ‹å‹å—?</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">type</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">boolean</span><span class="sh">'</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">q3</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">text</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">æ‚¨æœ€å–œæ¬¢æˆ‘ä»¬äº§å“çš„å“ªä¸ªåŠŸèƒ½?</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">type</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">choice</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">choices</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="sh">'</span><span class="s">ç•Œé¢è®¾è®¡</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">åŠŸèƒ½ä¸°å¯Œ</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">æ€§èƒ½ä¼˜ç§€</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">ä»·æ ¼åˆç†</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">å®¢æœæœåŠ¡</span><span class="sh">'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">q4</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">text</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">æ‚¨è¿˜æœ‰ä»€ä¹ˆå»ºè®®æˆ–æ„è§?</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">type</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">text</span><span class="sh">'</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">optional</span><span class="sh">'</span><span class="p">:</span> <span class="bp">True</span>
        <span class="p">}</span>
    <span class="p">]</span>
    
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">question</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">é—®é¢˜ </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">text</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">type</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">scale</span><span class="sh">'</span><span class="p">:</span>
            <span class="n">min_val</span><span class="p">,</span> <span class="n">max_val</span> <span class="o">=</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">scale</span><span class="sh">'</span><span class="p">]</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">labels</span><span class="sh">'</span><span class="p">]</span>
            
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯„åˆ†æ ‡å‡†:</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">min_val</span><span class="p">):</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  </span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s"> - </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            
            <span class="n">score</span> <span class="o">=</span> <span class="nf">get_integer_input</span><span class="p">(</span>
                <span class="sa">f</span><span class="sh">"</span><span class="s">è¯·è¯„åˆ† (</span><span class="si">{</span><span class="n">min_val</span><span class="si">}</span><span class="s">-</span><span class="si">{</span><span class="n">max_val</span><span class="si">}</span><span class="s">): </span><span class="sh">"</span><span class="p">,</span>
                <span class="n">min_val</span><span class="p">,</span> <span class="n">max_val</span>
            <span class="p">)</span>
            <span class="n">responses</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                <span class="sh">'</span><span class="s">question_id</span><span class="sh">'</span><span class="p">:</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">],</span>
                <span class="sh">'</span><span class="s">answer</span><span class="sh">'</span><span class="p">:</span> <span class="n">score</span><span class="p">,</span>
                <span class="sh">'</span><span class="s">label</span><span class="sh">'</span><span class="p">:</span> <span class="n">labels</span><span class="p">[</span><span class="n">score</span> <span class="o">-</span> <span class="n">min_val</span><span class="p">]</span>
            <span class="p">})</span>
            
        <span class="k">elif</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">type</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">boolean</span><span class="sh">'</span><span class="p">:</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="nf">get_boolean_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·å›ç­” (yes/no): </span><span class="sh">"</span><span class="p">)</span>
            <span class="n">responses</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                <span class="sh">'</span><span class="s">question_id</span><span class="sh">'</span><span class="p">:</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">],</span>
                <span class="sh">'</span><span class="s">answer</span><span class="sh">'</span><span class="p">:</span> <span class="n">answer</span>
            <span class="p">})</span>
            
        <span class="k">elif</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">type</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">choice</span><span class="sh">'</span><span class="p">:</span>
            <span class="n">choices</span> <span class="o">=</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">choices</span><span class="sh">'</span><span class="p">]</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">é€‰é¡¹:</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">choice</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">choices</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
                <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  </span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s">. </span><span class="si">{</span><span class="n">choice</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            
            <span class="n">choice_num</span> <span class="o">=</span> <span class="nf">get_integer_input</span><span class="p">(</span>
                <span class="sa">f</span><span class="sh">"</span><span class="s">è¯·é€‰æ‹© (1-</span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span><span class="si">}</span><span class="s">): </span><span class="sh">"</span><span class="p">,</span>
                <span class="mi">1</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">responses</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                <span class="sh">'</span><span class="s">question_id</span><span class="sh">'</span><span class="p">:</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">],</span>
                <span class="sh">'</span><span class="s">answer</span><span class="sh">'</span><span class="p">:</span> <span class="n">choices</span><span class="p">[</span><span class="n">choice_num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="p">})</span>
            
        <span class="k">elif</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">type</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">text</span><span class="sh">'</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">question</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">optional</span><span class="sh">'</span><span class="p">):</span>
                <span class="n">answer</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥ (å¯é€‰ï¼Œç›´æ¥å›è½¦è·³è¿‡): </span><span class="sh">"</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">answer</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥: </span><span class="sh">"</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">answer</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">question</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">optional</span><span class="sh">'</span><span class="p">):</span>
                <span class="n">responses</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                    <span class="sh">'</span><span class="s">question_id</span><span class="sh">'</span><span class="p">:</span> <span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">],</span>
                    <span class="sh">'</span><span class="s">answer</span><span class="sh">'</span><span class="p">:</span> <span class="n">answer</span>
                <span class="p">})</span>
    
    <span class="c1"># æ˜¾ç¤ºè°ƒæŸ¥ç»“æœ
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">=== è°ƒæŸ¥ç»“æœ ===</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">:</span>
        <span class="n">question</span> <span class="o">=</span> <span class="nf">next</span><span class="p">(</span><span class="n">q</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">questions</span> <span class="k">if</span> <span class="n">q</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">question_id</span><span class="sh">'</span><span class="p">])</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">question</span><span class="p">[</span><span class="sh">'</span><span class="s">text</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="sh">'</span><span class="s">label</span><span class="sh">'</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å›ç­”: </span><span class="si">{</span><span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">answer</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="s"> (</span><span class="si">{</span><span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">label</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å›ç­”: </span><span class="si">{</span><span class="n">response</span><span class="p">[</span><span class="sh">'</span><span class="s">answer</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ„Ÿè°¢æ‚¨å‚ä¸è°ƒæŸ¥ï¼</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">responses</span>

<span class="c1"># è¿è¡Œç¤ºä¾‹
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å®é™…åº”ç”¨åœºæ™¯æ¼”ç¤º:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">1. è®¡ç®—å™¨ (è¾“å…¥ </span><span class="sh">'</span><span class="s">calc</span><span class="sh">'</span><span class="s"> è¿è¡Œ)</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. é…ç½®ç”Ÿæˆå™¨ (è¾“å…¥ </span><span class="sh">'</span><span class="s">config</span><span class="sh">'</span><span class="s"> è¿è¡Œ)</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. é—®å·è°ƒæŸ¥ (è¾“å…¥ </span><span class="sh">'</span><span class="s">survey</span><span class="sh">'</span><span class="s"> è¿è¡Œ)</span><span class="sh">"</span><span class="p">)</span>

<span class="n">choice</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¯·é€‰æ‹©è¦è¿è¡Œçš„ç¤ºä¾‹ (calc/config/survey): </span><span class="sh">"</span><span class="p">).</span><span class="nf">lower</span><span class="p">()</span>

<span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="sh">'</span><span class="s">calc</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">calculator_cli</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="sh">'</span><span class="s">config</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">config_generator</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="sh">'</span><span class="s">survey</span><span class="sh">'</span><span class="p">:</span>
    <span class="nf">survey_tool</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ— æ•ˆé€‰æ‹©</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="ï¸-æ³¨æ„äº‹é¡¹">âš ï¸ æ³¨æ„äº‹é¡¹</h2>

<h3 id="å¸¸è§é™·é˜±">å¸¸è§é™·é˜±</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># input()è¿”å›å€¼ç±»å‹é™·é˜±
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">input()è¿”å›å€¼ç±»å‹é™·é˜±:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># é”™è¯¯ï¼šç›´æ¥å°†input()ç»“æœç”¨äºæ•°å­¦è¿ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">é”™è¯¯ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># user_age = input("è¯·è¾“å…¥å¹´é¾„: ")  # å‡è®¾ç”¨æˆ·è¾“å…¥ "25"
</span>    <span class="c1"># next_year_age = user_age + 1  # é”™è¯¯ï¼å­—ç¬¦ä¸²ä¸èƒ½ç›´æ¥åŠ æ•°å­—
</span>    <span class="k">pass</span>
<span class="k">except</span> <span class="nb">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç±»å‹é”™è¯¯: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ­£ç¡®ï¼šå…ˆè½¬æ¢ç±»å‹
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ­£ç¡®ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">user_age_str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">25</span><span class="sh">"</span>  <span class="c1"># æ¨¡æ‹Ÿinput()è¿”å›å€¼
</span><span class="n">user_age</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">user_age_str</span><span class="p">)</span>  <span class="c1"># è½¬æ¢ä¸ºæ•´æ•°
</span><span class="n">next_year_age</span> <span class="o">=</span> <span class="n">user_age</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å½“å‰å¹´é¾„: </span><span class="si">{</span><span class="n">user_age</span><span class="si">}</span><span class="s">, æ˜å¹´å¹´é¾„: </span><span class="si">{</span><span class="n">next_year_age</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ç©ºè¾“å…¥å¤„ç†é™·é˜±
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç©ºè¾“å…¥å¤„ç†:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">safe_int_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">å®‰å…¨çš„æ•´æ•°è¾“å…¥</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">user_input</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">).</span><span class="nf">strip</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">user_input</span><span class="p">:</span>  <span class="c1"># ç©ºè¾“å…¥
</span>            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">default</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¾“å…¥ä¸èƒ½ä¸ºç©º</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">continue</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">int</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
        <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥æœ‰æ•ˆçš„æ•´æ•°</span><span class="sh">"</span><span class="p">)</span>

<span class="n">age</span> <span class="o">=</span> <span class="nf">safe_int_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥å¹´é¾„ (é»˜è®¤0): </span><span class="sh">"</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å¹´é¾„: </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ç‰¹æ®Šå­—ç¬¦å¤„ç†é™·é˜±
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">ç‰¹æ®Šå­—ç¬¦å¤„ç†:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ç”¨æˆ·å¯èƒ½è¾“å…¥çš„ç‰¹æ®Šå­—ç¬¦
</span><span class="n">special_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="sh">"</span><span class="s">  hello world  </span><span class="sh">"</span><span class="p">,</span>  <span class="c1"># å‰åç©ºæ ¼
</span>    <span class="sh">"</span><span class="s">Hello</span><span class="se">\n</span><span class="s">World</span><span class="sh">"</span><span class="p">,</span>     <span class="c1"># æ¢è¡Œç¬¦ï¼ˆä¸å¤ªå¯èƒ½ï¼Œä½†è¦æ³¨æ„ï¼‰
</span>    <span class="sh">"</span><span class="s">Hello</span><span class="se">\t</span><span class="s">World</span><span class="sh">"</span><span class="p">,</span>     <span class="c1"># åˆ¶è¡¨ç¬¦
</span>    <span class="sh">"</span><span class="s">Hello</span><span class="se">\\</span><span class="s">World</span><span class="sh">"</span><span class="p">,</span>     <span class="c1"># åæ–œæ 
</span>    <span class="sh">"</span><span class="s">Hello</span><span class="sh">'</span><span class="s">World</span><span class="sh">"</span><span class="p">,</span>      <span class="c1"># å•å¼•å·
</span>    <span class="sh">'</span><span class="s">Hello</span><span class="sh">"</span><span class="s">World</span><span class="sh">'</span><span class="p">,</span>      <span class="c1"># åŒå¼•å·
</span>    <span class="sh">"</span><span class="s">Hello&amp;World</span><span class="sh">"</span><span class="p">,</span>      <span class="c1"># ç‰¹æ®Šç¬¦å·
</span>    <span class="sh">"</span><span class="s">ä½ å¥½ä¸–ç•Œ</span><span class="sh">"</span><span class="p">,</span>          <span class="c1"># ä¸­æ–‡å­—ç¬¦
</span>    <span class="sh">"</span><span class="s">ğŸ™‚ğŸ˜Š</span><span class="sh">"</span><span class="p">,</span>            <span class="c1"># è¡¨æƒ…ç¬¦å·
</span>    <span class="sh">""</span><span class="p">,</span>                 <span class="c1"># ç©ºå­—ç¬¦ä¸²
</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ç‰¹æ®Šå­—ç¬¦å¤„ç†ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="k">case</span> <span class="ow">in</span> <span class="n">special_cases</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥: </span><span class="si">{</span><span class="nf">repr</span><span class="p">(</span><span class="n">case</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å»ç©ºæ ¼: </span><span class="si">{</span><span class="nf">repr</span><span class="p">(</span><span class="k">case</span><span class="p">.</span><span class="nf">strip</span><span class="p">())</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  é•¿åº¦: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">case</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  æ˜¯å¦ä¸ºç©º: </span><span class="si">{</span><span class="ow">not</span> <span class="k">case</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># ç¼–ç é—®é¢˜
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ç¼–ç å¤„ç†:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">safe_input_with_encoding</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">å¤„ç†ç¼–ç é—®é¢˜çš„è¾“å…¥å‡½æ•°</span><span class="sh">"""</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
        <span class="c1"># ç¡®ä¿å­—ç¬¦ä¸²å¯ä»¥æ­£ç¡®ç¼–ç 
</span>        <span class="n">result</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="sh">'</span><span class="s">utf-8</span><span class="sh">'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="k">except</span> <span class="nb">UnicodeEncodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç¼–ç é”™è¯¯: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">except</span> <span class="nb">UnicodeDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è§£ç é”™è¯¯: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># è¾“å…¥é•¿åº¦é™åˆ¶
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¾“å…¥é•¿åº¦é™åˆ¶:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">limited_input</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">é™åˆ¶è¾“å…¥é•¿åº¦çš„å‡½æ•°</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">user_input</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_length</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">user_input</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥è¿‡é•¿ï¼Œæœ€å¤šå…è®¸ </span><span class="si">{</span><span class="n">max_length</span><span class="si">}</span><span class="s"> ä¸ªå­—ç¬¦</span><span class="sh">"</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å½“å‰è¾“å…¥é•¿åº¦: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="n">short_input</span> <span class="o">=</span> <span class="nf">limited_input</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥ç®€çŸ­æè¿° (æœ€å¤š20å­—ç¬¦): </span><span class="sh">"</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥å†…å®¹: </span><span class="si">{</span><span class="n">short_input</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è¾“å…¥éªŒè¯å¤±è´¥çš„å¤„ç†
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è¾“å…¥éªŒè¯å¤±è´¥å¤„ç†:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">robust_input_validation</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">å¥å£®çš„è¾“å…¥éªŒè¯ç¤ºä¾‹</span><span class="sh">"""</span>
    <span class="n">max_attempts</span> <span class="o">=</span> <span class="mi">3</span>
    
    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">max_attempts</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">age_str</span> <span class="o">=</span> <span class="nf">input</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥å¹´é¾„ (å°è¯• </span><span class="si">{</span><span class="n">attempt</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">max_attempts</span><span class="si">}</span><span class="s">): </span><span class="sh">"</span><span class="p">)</span>
            
            <span class="c1"># å¤šé‡éªŒè¯
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">age_str</span><span class="p">.</span><span class="nf">strip</span><span class="p">():</span>
                <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">å¹´é¾„ä¸èƒ½ä¸ºç©º</span><span class="sh">"</span><span class="p">)</span>
            
            <span class="n">age</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">age_str</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">age</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">å¹´é¾„ä¸èƒ½ä¸ºè´Ÿæ•°</span><span class="sh">"</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">:</span>
                <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">å¹´é¾„ä¸èƒ½è¶…è¿‡150</span><span class="sh">"</span><span class="p">)</span>
            
            <span class="k">return</span> <span class="n">age</span>
            
        <span class="k">except</span> <span class="nb">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¾“å…¥é”™è¯¯: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">attempt</span> <span class="o">==</span> <span class="n">max_attempts</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è¶…è¿‡æœ€å¤§å°è¯•æ¬¡æ•°ï¼Œä½¿ç”¨é»˜è®¤å€¼</span><span class="sh">"</span><span class="p">)</span>
                <span class="k">return</span> <span class="mi">0</span>
    
    <span class="k">return</span> <span class="mi">0</span>

<span class="n">valid_age</span> <span class="o">=</span> <span class="nf">robust_input_validation</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æœ€ç»ˆå¹´é¾„: </span><span class="si">{</span><span class="n">valid_age</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å¹¶å‘è¾“å…¥é—®é¢˜ï¼ˆå¤šçº¿ç¨‹ç¯å¢ƒï¼‰
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å¹¶å‘è¾“å…¥æ³¨æ„äº‹é¡¹:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œinput()å‡½æ•°ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¦‚æœéœ€è¦åœ¨å¤šçº¿ç¨‹ä¸­å¤„ç†è¾“å…¥ï¼Œåº”è¯¥:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">1. åªåœ¨ä¸»çº¿ç¨‹ä¸­ä½¿ç”¨input()</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. ä½¿ç”¨é˜Ÿåˆ—åœ¨çº¿ç¨‹é—´ä¼ é€’è¾“å…¥æ•°æ®</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. è€ƒè™‘ä½¿ç”¨GUIæ¡†æ¶æ›¿ä»£å‘½ä»¤è¡Œè¾“å…¥</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ€§èƒ½è€ƒè™‘
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ€§èƒ½è€ƒè™‘:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">input()å‡½æ•°çš„æ€§èƒ½ç‰¹ç‚¹:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">1. é˜»å¡å¼æ“ä½œ - ä¼šæš‚åœç¨‹åºæ‰§è¡Œ</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. å†…å­˜ä½¿ç”¨ - è¾“å…¥çš„å­—ç¬¦ä¸²ä¼šå ç”¨å†…å­˜</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. å¤§é‡è¾“å…¥ - è€ƒè™‘æ‰¹é‡å¤„ç†æˆ–æ–‡ä»¶è¾“å…¥</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å®‰å…¨è€ƒè™‘
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å®‰å…¨è€ƒè™‘:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ä½¿ç”¨input()æ—¶çš„å®‰å…¨æ³¨æ„äº‹é¡¹:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">1. æ°¸è¿œä¸è¦ç›´æ¥eval()ç”¨æˆ·è¾“å…¥</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. éªŒè¯å’Œæ¸…ç†æ‰€æœ‰ç”¨æˆ·è¾“å…¥</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. é™åˆ¶è¾“å…¥é•¿åº¦é˜²æ­¢å†…å­˜æ”»å‡»</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">4. å¯¹æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å¯†ç ï¼‰ä½¿ç”¨ç‰¹æ®Šå¤„ç†</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å¯†ç è¾“å…¥çš„å®‰å…¨å¤„ç†
</span><span class="kn">import</span> <span class="n">getpass</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å®‰å…¨å¯†ç è¾“å…¥:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¯¹äºå¯†ç è¾“å…¥ï¼Œåº”è¯¥ä½¿ç”¨ getpass æ¨¡å—:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">secure_password_input</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">å®‰å…¨çš„å¯†ç è¾“å…¥</span><span class="sh">"""</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">.</span><span class="nf">getpass</span><span class="p">(</span><span class="sh">"</span><span class="s">è¯·è¾“å…¥å¯†ç : </span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">password</span>
    <span class="k">except</span> <span class="nb">KeyboardInterrupt</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">å¯†ç è¾“å…¥è¢«å–æ¶ˆ</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å¯†ç è¾“å…¥é”™è¯¯: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ä½¿ç”¨ getpass.getpass() çš„ä¼˜åŠ¿:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">1. è¾“å…¥æ—¶ä¸æ˜¾ç¤ºå­—ç¬¦</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. ä¸ä¼šè¢«ç»ˆç«¯å†å²è®°å½•</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. æ›´å®‰å…¨çš„å¯†ç å¤„ç†</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è·¨å¹³å°å…¼å®¹æ€§
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è·¨å¹³å°å…¼å®¹æ€§:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">input()åœ¨ä¸åŒå¹³å°çš„è¡Œä¸º:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">1. Windows: æ”¯æŒä¸­æ–‡è¾“å…¥ï¼Œç¼–ç é€šå¸¸æ˜¯GBKæˆ–UTF-8</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. Linux/Mac: æ”¯æŒUTF-8ç¼–ç </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. ç»ˆç«¯ç¯å¢ƒ: å¯èƒ½å½±å“è¾“å…¥æ˜¾ç¤ºå’Œç¼–ç </span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">4. IDEç¯å¢ƒ: é€šå¸¸æœ‰æ›´å¥½çš„è¾“å…¥æ”¯æŒ</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="-ç›¸å…³å†…å®¹">ğŸ”— ç›¸å…³å†…å®¹</h2>

<h3 id="ç›¸å…³å‡½æ•°">ç›¸å…³å‡½æ•°</h3>
<ul>
  <li><a href="print.md">print() - è¾“å‡ºå‡½æ•°</a> - è¾“å‡ºä¿¡æ¯åˆ°æ§åˆ¶å°</li>
  <li><a href="str.md">str() - å­—ç¬¦ä¸²è½¬æ¢å‡½æ•°</a> - å­—ç¬¦ä¸²ç±»å‹è½¬æ¢</li>
  <li><a href="int.md">int() - æ•´æ•°è½¬æ¢å‡½æ•°</a> - æ•´æ•°ç±»å‹è½¬æ¢</li>
  <li><a href="float.md">float() - æµ®ç‚¹æ•°è½¬æ¢å‡½æ•°</a> - æµ®ç‚¹æ•°ç±»å‹è½¬æ¢</li>
  <li><a href="bool.md">bool() - å¸ƒå°”å€¼è½¬æ¢å‡½æ•°</a> - å¸ƒå°”å€¼ç±»å‹è½¬æ¢</li>
  <li><a href="len.md">len() - é•¿åº¦å‡½æ•°</a> - è·å–å­—ç¬¦ä¸²é•¿åº¦</li>
</ul>

<h3 id="ç›¸å…³æ¨¡å—">ç›¸å…³æ¨¡å—</h3>
<ul>
  <li><a href="../stdlib/sys.md">sysæ¨¡å—</a> - ç³»ç»Ÿç›¸å…³åŠŸèƒ½</li>
  <li><a href="../stdlib/os.md">osæ¨¡å—</a> - æ“ä½œç³»ç»Ÿæ¥å£</li>
  <li><a href="../stdlib/re.md">reæ¨¡å—</a> - æ­£åˆ™è¡¨è¾¾å¼</li>
  <li><a href="../stdlib/getpass.md">getpassæ¨¡å—</a> - å®‰å…¨å¯†ç è¾“å…¥</li>
  <li><a href="../stdlib/argparse.md">argparseæ¨¡å—</a> - å‘½ä»¤è¡Œå‚æ•°è§£æ</li>
</ul>

<h3 id="ç›¸å…³æ¦‚å¿µ">ç›¸å…³æ¦‚å¿µ</h3>
<ul>
  <li><a href="../basics/strings.md">å­—ç¬¦ä¸²å¤„ç†</a> - å­—ç¬¦ä¸²æ“ä½œ</li>
  <li><a href="../basics/exceptions.md">å¼‚å¸¸å¤„ç†</a> - é”™è¯¯å¤„ç†</li>
  <li><a href="../basics/file-io.md">æ–‡ä»¶æ“ä½œ</a> - æ–‡ä»¶è¾“å…¥è¾“å‡º</li>
  <li><a href="../advanced/regex.md">æ­£åˆ™è¡¨è¾¾å¼</a> - æ¨¡å¼åŒ¹é…</li>
  <li><a href="../advanced/ui-design.md">ç”¨æˆ·ç•Œé¢è®¾è®¡</a> - äº¤äº’è®¾è®¡</li>
</ul>

<h2 id="-æ‰©å±•é˜…è¯»">ğŸ“š æ‰©å±•é˜…è¯»</h2>

<ul>
  <li><a href="https://docs.python.org/3/library/functions.html#input">Pythonå®˜æ–¹æ–‡æ¡£ - input()</a></li>
  <li><a href="https://docs.python.org/3/tutorial/inputoutput.html">Pythonå®˜æ–¹æ–‡æ¡£ - è¾“å…¥è¾“å‡º</a></li>
  <li><a href="https://docs.python.org/3/library/stdtypes.html#string-methods">Pythonå®˜æ–¹æ–‡æ¡£ - å­—ç¬¦ä¸²æ–¹æ³•</a></li>
  <li><a href="https://docs.python.org/3/tutorial/errors.html">Pythonå®˜æ–¹æ–‡æ¡£ - å¼‚å¸¸å¤„ç†</a></li>
</ul>

<h2 id="ï¸-æ ‡ç­¾">ğŸ·ï¸ æ ‡ç­¾</h2>

<p><code class="language-plaintext highlighter-rouge">è¾“å…¥</code> <code class="language-plaintext highlighter-rouge">ç”¨æˆ·äº¤äº’</code> <code class="language-plaintext highlighter-rouge">å­—ç¬¦ä¸²</code> <code class="language-plaintext highlighter-rouge">æ§åˆ¶å°</code> <code class="language-plaintext highlighter-rouge">éªŒè¯</code> <code class="language-plaintext highlighter-rouge">é”™è¯¯å¤„ç†</code></p>

<hr />

<p><strong>æœ€åæ›´æ–°</strong>: 2024-01-15<br />
<strong>ä½œè€…</strong>: Pythonæ–‡æ¡£å·¥ç¨‹å¸ˆ<br />
<strong>ç‰ˆæœ¬</strong>: 1.0</p>

      </div>
      
      <!-- æ–‡æ¡£åº•éƒ¨ -->
      <footer class="doc-footer">
        
        <p class="doc-author">ä½œè€…: Pythonæ–‡æ¡£å·¥ç¨‹å¸ˆ</p>
        
        
        
        <p class="doc-version">ç‰ˆæœ¬: 1.0</p>
        
      </footer>
    </article>
  </main>
  
  <!-- å³ä¾§å¯¼èˆªæ  -->
  <aside class="doc-sidebar">
    <div class="toc-container">
      <h3>ç›®å½•</h3>
      <div id="toc"></div>
    </div>
    
    <!-- ç›¸å…³é“¾æ¥ -->
    <div class="related-links">
      <h3>ç›¸å…³å†…å®¹</h3>
      <ul>
        
        
      </ul>
    </div>
  </aside>
</div>

<!-- utterancesè¯„è®ºç³»ç»Ÿ -->
<div class="comments-section">
  <h3 class="comments-title">
    <i class="fas fa-comments"></i>
    è®¨è®ºä¸åé¦ˆ
  </h3>
  <div class="comments-description">
    <p>æ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€è®¨è®ºï¼Œåˆ†äº«ä½ çš„å­¦ä¹ å¿ƒå¾—æˆ–æå‡ºé—®é¢˜ã€‚è¯„è®ºåŸºäºGitHub Issuesï¼Œéœ€è¦GitHubè´¦å·ã€‚</p>
  </div>
  <div id="utterances-container">
    <script src="https://utteranc.es/client.js"
            repo="username/PythonModelBook"
            issue-term="pathname"
            theme="preferred-color-scheme"
            crossorigin="anonymous"
            async>
    </script>
  </div>
  

</div>

<style>
.doc-container {
  display: flex;
  max-width: 1200px;
  margin: 0 auto;
  gap: 2rem;
}

.doc-content {
  flex: 1;
  min-width: 0;
}

.doc-header {
  border-bottom: 1px solid #e1e4e8;
  padding-bottom: 1rem;
  margin-bottom: 2rem;
}

.doc-title {
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
  color: #24292e;
}

.doc-description {
  font-size: 1.2rem;
  color: #586069;
  margin-bottom: 1rem;
}

.doc-meta {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  font-size: 0.9rem;
  color: #586069;
}

.doc-tags {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.tag {
  background: #f1f8ff;
  color: #0366d6;
  padding: 0.25rem 0.5rem;
  border-radius: 3px;
  font-size: 0.8rem;
}

.doc-body {
  line-height: 1.6;
}

.doc-body h2 {
  border-bottom: 1px solid #e1e4e8;
  padding-bottom: 0.3rem;
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.doc-body pre {
  background: #f6f8fa;
  padding: 1rem;
  border-radius: 6px;
  overflow-x: auto;
}

.doc-body table {
  border-collapse: collapse;
  width: 100%;
  margin: 1rem 0;
}

.doc-body th,
.doc-body td {
  border: 1px solid #d0d7de;
  padding: 0.5rem;
  text-align: left;
}

.doc-body th {
  background: #f6f8fa;
  font-weight: 600;
}

.doc-sidebar {
  width: 300px;
  position: sticky;
  top: 2rem;
  height: fit-content;
}

.toc-container,
.related-links {
  background: #f6f8fa;
  padding: 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
}

.toc-container h3,
.related-links h3 {
  margin-top: 0;
  margin-bottom: 1rem;
  font-size: 1.1rem;
}

.related-links ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.related-links li {
  margin-bottom: 0.5rem;
}

.related-links a {
  color: #0366d6;
  text-decoration: none;
}

.related-links a:hover {
  text-decoration: underline;
}

.comments-section {
  max-width: 1200px;
  margin: 2rem auto;
  margin-top: 3rem;
  padding: 2rem;
  background: var(--bg-secondary, #f6f8fa);
  border-radius: var(--radius-xl, 12px);
  border: 1px solid var(--border-color, #e1e4e8);
}

.comments-title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
  color: var(--text-primary, #24292e);
  font-size: 1.25rem;
  font-weight: 600;
}

.comments-title i {
  color: var(--primary-color, #0366d6);
}

.comments-description {
  margin-bottom: 1.5rem;
  padding: 1rem;
  background: var(--bg-primary, #ffffff);
  border-radius: var(--radius-lg, 8px);
  border-left: 4px solid var(--primary-color, #0366d6);
}

.comments-description p {
  margin: 0;
  color: var(--text-secondary, #586069);
  font-size: 0.9rem;
  line-height: 1.5;
}

#utterances-container,
#giscus-container {
  margin-top: 1rem;
}

/* è¯„è®ºç³»ç»Ÿåˆ‡æ¢æŒ‰é’® */
.comment-system-toggle {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
  padding: 0.5rem;
  background: var(--bg-primary, #ffffff);
  border-radius: var(--radius-lg, 8px);
  border: 1px solid var(--border-color, #e1e4e8);
}

.comment-toggle-btn {
  flex: 1;
  padding: 0.5rem 1rem;
  background: transparent;
  border: none;
  border-radius: var(--radius-md, 6px);
  color: var(--text-secondary, #586069);
  font-size: 0.85rem;
  cursor: pointer;
  transition: all var(--transition-fast, 0.15s ease);
}

.comment-toggle-btn.active {
  background: var(--primary-color, #0366d6);
  color: var(--text-inverse, #ffffff);
}

.comment-toggle-btn:hover:not(.active) {
  background: var(--bg-secondary, #f6f8fa);
  color: var(--text-primary, #24292e);
}

@media (max-width: 768px) {
  .doc-container {
    flex-direction: column;
  }
  
  .doc-sidebar {
    width: 100%;
    position: static;
  }
}
</style>

<script>
// ç”Ÿæˆç›®å½•
document.addEventListener('DOMContentLoaded', function() {
  const toc = document.getElementById('toc');
  const headings = document.querySelectorAll('.doc-body h2, .doc-body h3, .doc-body h4');
  
  if (headings.length > 0) {
    const tocList = document.createElement('ul');
    
    headings.forEach(function(heading, index) {
      const id = 'heading-' + index;
      heading.id = id;
      
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#' + id;
      a.textContent = heading.textContent;
      a.className = 'toc-link toc-' + heading.tagName.toLowerCase();
      
      li.appendChild(a);
      tocList.appendChild(li);
    });
    
    toc.appendChild(tocList);
  }
});

// è¯„è®ºç³»ç»Ÿåˆ‡æ¢åŠŸèƒ½
function switchCommentSystem(system) {
  const utterancesContainer = document.getElementById('utterances-container');
  const giscusContainer = document.getElementById('giscus-container');
  
  if (system === 'giscus') {
    utterancesContainer.style.display = 'none';
    giscusContainer.style.display = 'block';
  } else {
    utterancesContainer.style.display = 'block';
    giscusContainer.style.display = 'none';
  }
}
</script>
  </main>

  <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
  <button id="back-to-top" class="back-to-top" title="è¿”å›é¡¶éƒ¨">
    <i class="fas fa-chevron-up"></i>
  </button>

  <!-- é¡µè„š -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</h3>
          <p>ç³»ç»ŸåŒ–æ•´ç†PythonçŸ¥è¯†ä½“ç³»çš„å¼€æºé¡¹ç›®</p>
        </div>
        <div class="footer-section">
          <h4>å¿«é€Ÿé“¾æ¥</h4>
          <ul>
            <li><a href="/PythonModelBook/docs/basics/">åŸºç¡€è¯­æ³•</a></li>
            <li><a href="/PythonModelBook/docs/builtins/">å†…ç½®å‡½æ•°</a></li>
            <li><a href="/PythonModelBook/docs/stdlib/">æ ‡å‡†åº“</a></li>
            <li><a href="/PythonModelBook/docs/thirdparty/">ç¬¬ä¸‰æ–¹åº“</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>ç¤¾åŒº</h4>
          <ul>
            <li><a href="https://github.com/liberalchang/PythonModelBook" target="_blank">GitHub</a></li>
            <li><a href="/PythonModelBook/CONTRIBUTING/">è´¡çŒ®æŒ‡å—</a></li>
            <li><a href="/PythonModelBook/about/">å…³äºé¡¹ç›®</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£. é‡‡ç”¨ <a href="/PythonModelBook/LICENSE">MIT License</a> å¼€æºåè®®.</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="/PythonModelBook/assets/js/main.js"></script>
  <script src="/PythonModelBook/assets/js/search.js"></script>
  
</body>

</html>