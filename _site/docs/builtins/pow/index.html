<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>pow() - å¹‚è¿ç®—å‡½æ•° - PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</title>
  <meta name="description" content="è®¡ç®—æ•°å­—çš„å¹‚è¿ç®—ï¼Œæ”¯æŒæ¨¡è¿ç®—çš„å†…ç½®å‡½æ•°">

  <!-- SEOæ ‡ç­¾ -->
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>pow() - å¹‚è¿ç®—å‡½æ•° | PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="pow() - å¹‚è¿ç®—å‡½æ•°" />
<meta name="author" content="Pythonæ–‡æ¡£å·¥ç¨‹å¸ˆ" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="è®¡ç®—æ•°å­—çš„å¹‚è¿ç®—ï¼Œæ”¯æŒæ¨¡è¿ç®—çš„å†…ç½®å‡½æ•°" />
<meta property="og:description" content="è®¡ç®—æ•°å­—çš„å¹‚è¿ç®—ï¼Œæ”¯æŒæ¨¡è¿ç®—çš„å†…ç½®å‡½æ•°" />
<link rel="canonical" href="http://0.0.0.0:4000/PythonModelBook/docs/builtins/pow/" />
<meta property="og:url" content="http://0.0.0.0:4000/PythonModelBook/docs/builtins/pow/" />
<meta property="og:site_name" content="PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-01-15T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="pow() - å¹‚è¿ç®—å‡½æ•°" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pythonæ–‡æ¡£å·¥ç¨‹å¸ˆ"},"dateModified":"2024-01-15T00:00:00+08:00","datePublished":"2024-01-15T00:00:00+08:00","description":"è®¡ç®—æ•°å­—çš„å¹‚è¿ç®—ï¼Œæ”¯æŒæ¨¡è¿ç®—çš„å†…ç½®å‡½æ•°","headline":"pow() - å¹‚è¿ç®—å‡½æ•°","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/PythonModelBook/docs/builtins/pow/"},"url":"http://0.0.0.0:4000/PythonModelBook/docs/builtins/pow/"}</script>
<!-- End Jekyll SEO tag -->


  <!-- æ ·å¼æ–‡ä»¶ -->
  <link rel="stylesheet" href="/PythonModelBook/assets/css/main.css">
  <link rel="stylesheet" href="/PythonModelBook/assets/css/light-theme.css">
  <link rel="stylesheet" href="/PythonModelBook/assets/css/dark-theme.css">

  <!-- å­—ä½“ -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- å›¾æ ‡ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- æœç´¢åŠŸèƒ½ -->
  <script src="https://unpkg.com/lunr/lunr.js"></script>
</head>

<body>
  <!-- å¯¼èˆªæ  -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <a href="/PythonModelBook/" class="brand-link">
          <i class="fab fa-python"></i>
          <span>PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</span>
        </a>
      </div>

      <!-- æœç´¢æ¡† -->
      <div class="nav-search">
        <div class="search-container">
          <input type="text" id="search-input" placeholder="æœç´¢æ–‡æ¡£..." class="search-input">
          <i class="fas fa-search search-icon"></i>
          <div id="search-results" class="search-results"></div>
        </div>
      </div>

      <!-- å¯¼èˆªèœå• -->
      <div class="nav-menu">
        <a href="/PythonModelBook/" class="nav-link">é¦–é¡µ</a>
        <a href="/PythonModelBook/docs/" class="nav-link">æ–‡æ¡£</a>
        <a href="/PythonModelBook/about/" class="nav-link">å…³äº</a>
        <button id="theme-toggle" class="theme-toggle" title="åˆ‡æ¢ä¸»é¢˜">
          <i class="fas fa-moon"></i>
        </button>
      </div>

      <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
      <button class="mobile-menu-btn" id="mobile-menu-btn">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- ä¸»è¦å†…å®¹ -->
  <main class="main-content">
    <div class="doc-container">
  <!-- æ–‡æ¡£å†…å®¹åŒºåŸŸ -->
  <main class="doc-content">
    <article class="doc-article">
      <!-- æ–‡æ¡£å¤´éƒ¨ä¿¡æ¯ -->
      <header class="doc-header">
        <h1 class="doc-title">pow() - å¹‚è¿ç®—å‡½æ•°</h1>
        
        
        <p class="doc-description">è®¡ç®—æ•°å­—çš„å¹‚è¿ç®—ï¼Œæ”¯æŒæ¨¡è¿ç®—çš„å†…ç½®å‡½æ•°</p>
        
        
        <div class="doc-meta">
          
          <span class="doc-category">åˆ†ç±»: builtins</span>
          
          
          
          <span class="doc-difficulty">éš¾åº¦: åˆçº§</span>
          
          
          
          <span class="doc-updated">æ›´æ–°: 2024-01-15</span>
          
        </div>
        
        
        <div class="doc-tags">
          
          <span class="tag">æ•°å­¦è¿ç®—</span>
          
          <span class="tag">å¹‚è¿ç®—</span>
          
          <span class="tag">æŒ‡æ•°</span>
          
          <span class="tag">æ¨¡è¿ç®—</span>
          
        </div>
        
      </header>
      
      <!-- æ–‡æ¡£æ­£æ–‡ -->
      <div class="doc-body">
        <h1 id="pow---å¹‚è¿ç®—å‡½æ•°">pow() - å¹‚è¿ç®—å‡½æ•°</h1>

<h2 id="-æ¦‚è¿°">ğŸ“ æ¦‚è¿°</h2>

<p><code class="language-plaintext highlighter-rouge">pow()</code> æ˜¯Pythonä¸­ç”¨äºè®¡ç®—å¹‚è¿ç®—çš„å†…ç½®å‡½æ•°ã€‚å®ƒå¯ä»¥è®¡ç®— x çš„ y æ¬¡å¹‚ï¼Œè¿˜æ”¯æŒæ¨¡è¿ç®—ï¼ˆx^y mod zï¼‰ï¼Œè¿™åœ¨å¯†ç å­¦ã€æ•°è®ºå’Œå¤§æ•°è¿ç®—ä¸­éå¸¸æœ‰ç”¨ã€‚ç›¸æ¯”äº <code class="language-plaintext highlighter-rouge">**</code> è¿ç®—ç¬¦ï¼Œ<code class="language-plaintext highlighter-rouge">pow()</code> å‡½æ•°åœ¨å¤„ç†å¤§æ•°çš„æ¨¡å¹‚è¿ç®—æ—¶å…·æœ‰æ˜¾è‘—çš„æ€§èƒ½ä¼˜åŠ¿ã€‚</p>

<h2 id="-å­¦ä¹ ç›®æ ‡">ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>

<ul>
  <li>æŒæ¡pow()å‡½æ•°çš„åŸºæœ¬è¯­æ³•å’Œç”¨æ³•</li>
  <li>ç†è§£å¹‚è¿ç®—çš„æ•°å­¦åŸç†å’Œåº”ç”¨</li>
  <li>å­¦ä¼šä½¿ç”¨æ¨¡å¹‚è¿ç®—è¿›è¡Œé«˜æ•ˆè®¡ç®—</li>
  <li>äº†è§£pow()ä¸**è¿ç®—ç¬¦çš„åŒºåˆ«å’Œé€‰æ‹©</li>
  <li>æŒæ¡åœ¨å¯†ç å­¦å’Œæ•°è®ºä¸­çš„åº”ç”¨</li>
</ul>

<h2 id="-å‰ç½®çŸ¥è¯†">ğŸ“‹ å‰ç½®çŸ¥è¯†</h2>

<ul>
  <li>PythonåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆæ•´æ•°ã€æµ®ç‚¹æ•°ï¼‰</li>
  <li>æ•°å­¦åŸºç¡€ï¼ˆæŒ‡æ•°ã€å¯¹æ•°æ¦‚å¿µï¼‰</li>
  <li>æ¨¡è¿ç®—åŸºç¡€</li>
  <li>å¤§æ•°è¿ç®—æ¦‚å¿µ</li>
</ul>

<h2 id="-è¯¦ç»†å†…å®¹">ğŸ” è¯¦ç»†å†…å®¹</h2>

<h3 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h3>

<p><code class="language-plaintext highlighter-rouge">pow()</code> å‡½æ•°å®ç°äº†æ•°å­¦ä¸­çš„å¹‚è¿ç®—ï¼Œå³è®¡ç®—åº•æ•°çš„æŒ‡æ•°æ¬¡å¹‚ã€‚å½“æä¾›ç¬¬ä¸‰ä¸ªå‚æ•°æ—¶ï¼Œå®ƒä¼šè®¡ç®—æ¨¡å¹‚è¿ç®—ï¼Œè¿™åœ¨å¤„ç†å¤§æ•°æ—¶æ¯”å…ˆè®¡ç®—å¹‚å†å–æ¨¡è¦é«˜æ•ˆå¾—å¤šã€‚</p>

<h3 id="è¯­æ³•æ ¼å¼">è¯­æ³•æ ¼å¼</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># åŸºæœ¬å¹‚è¿ç®—
</span><span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>

<span class="c1"># æ¨¡å¹‚è¿ç®—
</span><span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="å‚æ•°è¯´æ˜">å‚æ•°è¯´æ˜</h3>

<table>
  <thead>
    <tr>
      <th>å‚æ•°å</th>
      <th>ç±»å‹</th>
      <th>å¿…éœ€</th>
      <th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>base</td>
      <td>number</td>
      <td>æ˜¯</td>
      <td>åº•æ•°</td>
    </tr>
    <tr>
      <td>exp</td>
      <td>number</td>
      <td>æ˜¯</td>
      <td>æŒ‡æ•°</td>
    </tr>
    <tr>
      <td>mod</td>
      <td>int</td>
      <td>å¦</td>
      <td>æ¨¡æ•°ï¼ˆä»…æ”¯æŒæ•´æ•°ï¼‰</td>
    </tr>
  </tbody>
</table>

<h3 id="è¿”å›å€¼">è¿”å›å€¼</h3>

<ul>
  <li><strong>ä¸¤å‚æ•°å½¢å¼</strong>: è¿”å› base^exp çš„ç»“æœ</li>
  <li><strong>ä¸‰å‚æ•°å½¢å¼</strong>: è¿”å› (base^exp) % mod çš„ç»“æœ</li>
  <li><strong>è¿”å›ç±»å‹</strong>: æ ¹æ®è¾“å…¥å‚æ•°ç±»å‹ç¡®å®šï¼ˆintã€floatã€complexç­‰ï¼‰</li>
</ul>

<h2 id="-å®é™…åº”ç”¨">ğŸ’¡ å®é™…åº”ç”¨</h2>

<h3 id="åŸºç¡€å¹‚è¿ç®—">åŸºç¡€å¹‚è¿ç®—</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># åŸºç¡€å¹‚è¿ç®—ç¤ºä¾‹
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">åŸºç¡€å¹‚è¿ç®—ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 1. åŸºæœ¬æ•´æ•°å¹‚è¿ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">1. åŸºæœ¬æ•´æ•°å¹‚è¿ç®—:</span><span class="sh">"</span><span class="p">)</span>

<span class="n">base_exp_pairs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>      <span class="c1"># 2çš„3æ¬¡æ–¹
</span>    <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>      <span class="c1"># 5çš„4æ¬¡æ–¹
</span>    <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>     <span class="c1"># 10çš„6æ¬¡æ–¹
</span>    <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>     <span class="c1"># è´Ÿæ•°çš„å¥‡æ•°æ¬¡æ–¹
</span>    <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>     <span class="c1"># è´Ÿæ•°çš„å¶æ•°æ¬¡æ–¹
</span>    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>      <span class="c1"># ä»»ä½•æ•°çš„0æ¬¡æ–¹
</span>    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>      <span class="c1"># 0çš„æ­£æ•°æ¬¡æ–¹
</span><span class="p">]</span>

<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">base_exp_pairs</span><span class="p">:</span>
    <span class="n">result_pow</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
    <span class="n">result_operator</span> <span class="o">=</span> <span class="n">base</span> <span class="o">**</span> <span class="n">exp</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result_pow</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s"> ** </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">result_operator</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="n">result_pow</span> <span class="o">==</span> <span class="n">result_operator</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># 2. æµ®ç‚¹æ•°å¹‚è¿ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. æµ®ç‚¹æ•°å¹‚è¿ç®—:</span><span class="sh">"</span><span class="p">)</span>

<span class="n">float_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>        <span class="c1"># å°æ•°åº•æ•°ï¼Œæ•´æ•°æŒ‡æ•°
</span>    <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>        <span class="c1"># æ•´æ•°åº•æ•°ï¼Œå°æ•°æŒ‡æ•°ï¼ˆå¼€æ–¹ï¼‰
</span>    <span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">),</span>      <span class="c1"># å°æ•°åº•æ•°ï¼Œå°æ•°æŒ‡æ•°
</span>    <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span>        <span class="c1"># å¼€å¹³æ–¹æ ¹
</span>    <span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span>       <span class="c1"># å¼€ç«‹æ–¹æ ¹
</span>    <span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span>       <span class="c1"># å¼€å››æ¬¡æ–¹æ ¹
</span><span class="p">]</span>

<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">float_cases</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># éªŒè¯å¼€æ–¹è¿ç®—
</span>    <span class="k">if</span> <span class="n">exp</span> <span class="o">==</span> <span class="mf">0.5</span> <span class="ow">or</span> <span class="n">exp</span> <span class="o">==</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">sqrt_result</span> <span class="o">=</span> <span class="n">base</span> <span class="o">**</span> <span class="mf">0.5</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  éªŒè¯å¼€æ–¹: </span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">^0.5 = </span><span class="si">{</span><span class="n">sqrt_result</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># 3. è´ŸæŒ‡æ•°è¿ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. è´ŸæŒ‡æ•°è¿ç®—:</span><span class="sh">"</span><span class="p">)</span>

<span class="n">negative_exp_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">),</span>     <span class="c1"># 2çš„-3æ¬¡æ–¹ = 1/8
</span>    <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span>     <span class="c1"># 5çš„-2æ¬¡æ–¹ = 1/25
</span>    <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">),</span>    <span class="c1"># 10çš„-4æ¬¡æ–¹ = 0.0001
</span>    <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span>   <span class="c1"># 0.5çš„-2æ¬¡æ–¹ = 4
</span><span class="p">]</span>

<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">negative_exp_cases</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
    <span class="n">manual_calc</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">base</span> <span class="o">**</span> <span class="nf">abs</span><span class="p">(</span><span class="n">exp</span><span class="p">))</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ‰‹åŠ¨è®¡ç®—: 1/</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">^</span><span class="si">{</span><span class="nf">abs</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">manual_calc</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="nf">abs</span><span class="p">(</span><span class="n">result</span> <span class="o">-</span> <span class="n">manual_calc</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-10</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># 4. å¤æ•°å¹‚è¿ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">4. å¤æ•°å¹‚è¿ç®—:</span><span class="sh">"</span><span class="p">)</span>

<span class="n">complex_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mf">1j</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>       <span class="c1"># å¤æ•°çš„å¹³æ–¹
</span>    <span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="mf">3j</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>       <span class="c1"># å¤æ•°çš„ç«‹æ–¹
</span>    <span class="p">(</span><span class="mf">1j</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>         <span class="c1"># è™šæ•°å•ä½çš„4æ¬¡æ–¹
</span>    <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>       <span class="c1"># è´Ÿæ•°çš„å¼€æ–¹ï¼ˆäº§ç”Ÿå¤æ•°ï¼‰
</span><span class="p">]</span>

<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">complex_cases</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å®éƒ¨: </span><span class="si">{</span><span class="n">result</span><span class="p">.</span><span class="n">real</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  è™šéƒ¨: </span><span class="si">{</span><span class="n">result</span><span class="p">.</span><span class="n">imag</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  æ¨¡é•¿: </span><span class="si">{</span><span class="nf">abs</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># 5. ç‰¹æ®Šå€¼å’Œè¾¹ç•Œæƒ…å†µ
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">5. ç‰¹æ®Šå€¼å’Œè¾¹ç•Œæƒ…å†µ:</span><span class="sh">"</span><span class="p">)</span>

<span class="n">special_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>          <span class="c1"># 0çš„0æ¬¡æ–¹ï¼ˆæ•°å­¦ä¸Šæœªå®šä¹‰ï¼ŒPythonè¿”å›1ï¼‰
</span>    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nf">float</span><span class="p">(</span><span class="sh">'</span><span class="s">inf</span><span class="sh">'</span><span class="p">)),</span> <span class="c1"># 1çš„æ— ç©·æ¬¡æ–¹
</span>    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nf">float</span><span class="p">(</span><span class="sh">'</span><span class="s">inf</span><span class="sh">'</span><span class="p">)),</span> <span class="c1"># å¤§äº1çš„æ•°çš„æ— ç©·æ¬¡æ–¹
</span>    <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="nf">float</span><span class="p">(</span><span class="sh">'</span><span class="s">inf</span><span class="sh">'</span><span class="p">)),</span> <span class="c1"># å°äº1çš„æ•°çš„æ— ç©·æ¬¡æ–¹
</span>    <span class="p">(</span><span class="nf">float</span><span class="p">(</span><span class="sh">'</span><span class="s">inf</span><span class="sh">'</span><span class="p">),</span> <span class="mi">2</span><span class="p">),</span> <span class="c1"># æ— ç©·å¤§çš„å¹³æ–¹
</span>    <span class="p">(</span><span class="nf">float</span><span class="p">(</span><span class="sh">'</span><span class="s">nan</span><span class="sh">'</span><span class="p">),</span> <span class="mi">2</span><span class="p">),</span> <span class="c1"># NaNçš„å¹‚è¿ç®—
</span><span class="p">]</span>

<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">special_cases</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">) é”™è¯¯: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="æ¨¡å¹‚è¿ç®—">æ¨¡å¹‚è¿ç®—</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># æ¨¡å¹‚è¿ç®—ç¤ºä¾‹
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ¨¡å¹‚è¿ç®—ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 1. åŸºæœ¬æ¨¡å¹‚è¿ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">1. åŸºæœ¬æ¨¡å¹‚è¿ç®—:</span><span class="sh">"</span><span class="p">)</span>

<span class="n">mod_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>   <span class="c1"># 2^10 mod 1000
</span>    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>    <span class="c1"># 3^20 mod 100
</span>    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>     <span class="c1"># 7^15 mod 13
</span>    <span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="mi">456</span><span class="p">,</span> <span class="mi">789</span><span class="p">),</span> <span class="c1"># å¤§æ•°æ¨¡å¹‚è¿ç®—
</span><span class="p">]</span>

<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">mod_cases</span><span class="p">:</span>
    <span class="c1"># ä½¿ç”¨pow()çš„ä¸‰å‚æ•°å½¢å¼
</span>    <span class="n">result_efficient</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
    
    <span class="c1"># ä¼ ç»Ÿæ–¹æ³•ï¼ˆå…ˆè®¡ç®—å¹‚å†å–æ¨¡ï¼‰
</span>    <span class="k">if</span> <span class="n">exp</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">:</span>  <span class="c1"># åªå¯¹å°æŒ‡æ•°è¿›è¡Œä¼ ç»Ÿè®¡ç®—ï¼Œé¿å…æº¢å‡º
</span>        <span class="n">result_traditional</span> <span class="o">=</span> <span class="p">(</span><span class="n">base</span> <span class="o">**</span> <span class="n">exp</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result_efficient</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">^</span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">) % </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">result_traditional</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="n">result_efficient</span> <span class="o">==</span> <span class="n">result_traditional</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result_efficient</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">(ä¼ ç»Ÿæ–¹æ³•å› æ•°å€¼è¿‡å¤§è·³è¿‡éªŒè¯)</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># 2. æ€§èƒ½å¯¹æ¯”ï¼šæ¨¡å¹‚è¿ç®— vs ä¼ ç»Ÿæ–¹æ³•
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. æ€§èƒ½å¯¹æ¯”:</span><span class="sh">"</span><span class="p">)</span>

<span class="kn">import</span> <span class="n">time</span>

<span class="c1"># å¤§æ•°æ¨¡å¹‚è¿ç®—æ€§èƒ½æµ‹è¯•
</span><span class="n">large_base</span> <span class="o">=</span> <span class="mi">12345</span>
<span class="n">large_exp</span> <span class="o">=</span> <span class="mi">67890</span>
<span class="n">large_mod</span> <span class="o">=</span> <span class="mi">98765</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è®¡ç®— </span><span class="si">{</span><span class="n">large_base</span><span class="si">}</span><span class="s">^</span><span class="si">{</span><span class="n">large_exp</span><span class="si">}</span><span class="s"> mod </span><span class="si">{</span><span class="n">large_mod</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ä½¿ç”¨pow()çš„é«˜æ•ˆæ¨¡å¹‚è¿ç®—
</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">efficient_result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">large_base</span><span class="p">,</span> <span class="n">large_exp</span><span class="p">,</span> <span class="n">large_mod</span><span class="p">)</span>
<span class="n">efficient_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow()æ–¹æ³•: </span><span class="si">{</span><span class="n">efficient_result</span><span class="si">}</span><span class="s"> (è€—æ—¶: </span><span class="si">{</span><span class="n">efficient_time</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’)</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ³¨æ„ï¼šä¼ ç»Ÿæ–¹æ³•å¯¹äºå¦‚æ­¤å¤§çš„æŒ‡æ•°ä¼šéå¸¸æ…¢ï¼Œè¿™é‡Œåªåšæ¼”ç¤º
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ä¼ ç»Ÿæ–¹æ³• (base^exp) % mod å¯¹äºå¤§æŒ‡æ•°ä¼šéå¸¸æ…¢ï¼Œå·²è·³è¿‡</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 3. æ¨¡å¹‚è¿ç®—çš„æ•°å­¦æ€§è´¨
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">3. æ¨¡å¹‚è¿ç®—çš„æ•°å­¦æ€§è´¨:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è´¹é©¬å°å®šç†éªŒè¯ï¼šå¦‚æœpæ˜¯è´¨æ•°ï¼Œaä¸è¢«pæ•´é™¤ï¼Œåˆ™a^(p-1) â‰¡ 1 (mod p)
</span><span class="n">primes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">19</span><span class="p">]</span>
<span class="n">bases</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è´¹é©¬å°å®šç†éªŒè¯ (a^(p-1) â‰¡ 1 mod p):</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">primes</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">è´¨æ•° p = </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s">:</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">bases</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">a</span> <span class="o">%</span> <span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># aä¸è¢«pæ•´é™¤
</span>            <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">p</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s">^</span><span class="si">{</span><span class="n">p</span><span class="o">-</span><span class="mi">1</span><span class="si">}</span><span class="s"> mod </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="sh">'</span><span class="s">âœ“</span><span class="sh">'</span> <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="sh">'</span><span class="s">âœ—</span><span class="sh">'</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 4. æ¬§æ‹‰å®šç†éªŒè¯
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">4. æ¬§æ‹‰å®šç†ç›¸å…³è®¡ç®—:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">gcd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è®¡ç®—æœ€å¤§å…¬çº¦æ•°</span><span class="sh">"""</span>
    <span class="k">while</span> <span class="n">b</span><span class="p">:</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span>
    <span class="k">return</span> <span class="n">a</span>

<span class="k">def</span> <span class="nf">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è®¡ç®—æ¬§æ‹‰å‡½æ•°Ï†(n)</span><span class="sh">"""</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">n</span>
    <span class="n">p</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">while</span> <span class="n">p</span> <span class="o">*</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">n</span> <span class="o">%</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">n</span> <span class="o">//=</span> <span class="n">p</span>
            <span class="n">result</span> <span class="o">-=</span> <span class="n">result</span> <span class="o">//</span> <span class="n">p</span>
        <span class="n">p</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">-=</span> <span class="n">result</span> <span class="o">//</span> <span class="n">n</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="c1"># éªŒè¯æ¬§æ‹‰å®šç†ï¼šå¦‚æœgcd(a,n)=1ï¼Œåˆ™a^Ï†(n) â‰¡ 1 (mod n)
</span><span class="n">test_n</span> <span class="o">=</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">35</span><span class="p">]</span>
<span class="n">test_a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ¬§æ‹‰å®šç†éªŒè¯ (a^Ï†(n) â‰¡ 1 mod n, å½“gcd(a,n)=1):</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">test_n</span><span class="p">:</span>
    <span class="n">phi_n</span> <span class="o">=</span> <span class="nf">euler_phi</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">n = </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s">, Ï†(</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">phi_n</span><span class="si">}</span><span class="s">:</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">test_a</span><span class="p">:</span>
        <span class="k">if</span> <span class="nf">gcd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">phi_n</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s">^</span><span class="si">{</span><span class="n">phi_n</span><span class="si">}</span><span class="s"> mod </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="sh">'</span><span class="s">âœ“</span><span class="sh">'</span> <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="sh">'</span><span class="s">âœ—</span><span class="sh">'</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s">ä¸</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s">ä¸äº’è´¨ï¼Œè·³è¿‡</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 5. æ¨¡é€†å…ƒè®¡ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">5. æ¨¡é€†å…ƒè®¡ç®—:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">mod_inverse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è®¡ç®—aåœ¨æ¨¡mä¸‹çš„é€†å…ƒ</span><span class="sh">"""</span>
    <span class="k">if</span> <span class="nf">gcd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>  <span class="c1"># é€†å…ƒä¸å­˜åœ¨
</span>    
    <span class="c1"># ä½¿ç”¨è´¹é©¬å°å®šç†ï¼šå¦‚æœmæ˜¯è´¨æ•°ï¼Œåˆ™a^(m-2) â‰¡ a^(-1) (mod m)
</span>    <span class="c1"># æˆ–ä½¿ç”¨æ¬§æ‹‰å®šç†ï¼ša^(Ï†(m)-1) â‰¡ a^(-1) (mod m)
</span>    <span class="n">phi_m</span> <span class="o">=</span> <span class="nf">euler_phi</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
    <span class="k">return</span> <span class="nf">pow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">phi_m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>

<span class="c1"># æµ‹è¯•æ¨¡é€†å…ƒ
</span><span class="n">inverse_tests</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>   <span class="c1"># 3åœ¨æ¨¡7ä¸‹çš„é€†å…ƒ
</span>    <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>  <span class="c1"># 5åœ¨æ¨¡11ä¸‹çš„é€†å…ƒ
</span>    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>  <span class="c1"># 7åœ¨æ¨¡13ä¸‹çš„é€†å…ƒ
</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ¨¡é€†å…ƒè®¡ç®—:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">inverse_tests</span><span class="p">:</span>
    <span class="n">inverse</span> <span class="o">=</span> <span class="nf">mod_inverse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">inverse</span><span class="p">:</span>
        <span class="c1"># éªŒè¯ï¼ša * inverse â‰¡ 1 (mod m)
</span>        <span class="n">verification</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">inverse</span><span class="p">)</span> <span class="o">%</span> <span class="n">m</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s">åœ¨æ¨¡</span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s">ä¸‹çš„é€†å…ƒ: </span><span class="si">{</span><span class="n">inverse</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">éªŒè¯: (</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s"> * </span><span class="si">{</span><span class="n">inverse</span><span class="si">}</span><span class="s">) mod </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">verification</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="sh">'</span><span class="s">âœ“</span><span class="sh">'</span> <span class="k">if</span> <span class="n">verification</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="sh">'</span><span class="s">âœ—</span><span class="sh">'</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s">åœ¨æ¨¡</span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s">ä¸‹æ²¡æœ‰é€†å…ƒ</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="å¯†ç å­¦åº”ç”¨">å¯†ç å­¦åº”ç”¨</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># å¯†ç å­¦åº”ç”¨ç¤ºä¾‹
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¯†ç å­¦åº”ç”¨ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 1. RSAåŠ å¯†ç®—æ³•çš„æ ¸å¿ƒè®¡ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">1. RSAåŠ å¯†ç®—æ³•æ ¸å¿ƒ:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">SimpleRSA</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ç®€åŒ–çš„RSAå®ç°ï¼ˆä»…ç”¨äºæ¼”ç¤ºï¼‰</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">åˆå§‹åŒ–RSAå‚æ•°</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">p</span>  <span class="c1"># è´¨æ•°p
</span>        <span class="n">self</span><span class="p">.</span><span class="n">q</span> <span class="o">=</span> <span class="n">q</span>  <span class="c1"># è´¨æ•°q
</span>        <span class="n">self</span><span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">p</span> <span class="o">*</span> <span class="n">q</span>  <span class="c1"># æ¨¡æ•°n
</span>        <span class="n">self</span><span class="p">.</span><span class="n">phi_n</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">q</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># æ¬§æ‹‰å‡½æ•°å€¼
</span>        
        <span class="c1"># é€‰æ‹©å…¬é’¥æŒ‡æ•°eï¼ˆé€šå¸¸é€‰æ‹©65537ï¼‰
</span>        <span class="n">self</span><span class="p">.</span><span class="n">e</span> <span class="o">=</span> <span class="mi">65537</span>
        <span class="k">if</span> <span class="nf">gcd</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">e</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">phi_n</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">e</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># å¤‡é€‰å€¼
</span>        
        <span class="c1"># è®¡ç®—ç§é’¥æŒ‡æ•°d
</span>        <span class="n">self</span><span class="p">.</span><span class="n">d</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">mod_inverse</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">e</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">phi_n</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">mod_inverse</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è®¡ç®—æ¨¡é€†å…ƒ</span><span class="sh">"""</span>
        <span class="k">def</span> <span class="nf">extended_gcd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">b</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
            <span class="n">gcd</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="nf">extended_gcd</span><span class="p">(</span><span class="n">b</span> <span class="o">%</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">y1</span> <span class="o">-</span> <span class="p">(</span><span class="n">b</span> <span class="o">//</span> <span class="n">a</span><span class="p">)</span> <span class="o">*</span> <span class="n">x1</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">x1</span>
            <span class="k">return</span> <span class="n">gcd</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
        
        <span class="n">gcd</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="nf">extended_gcd</span><span class="p">(</span><span class="n">a</span> <span class="o">%</span> <span class="n">m</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">gcd</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="n">m</span> <span class="o">+</span> <span class="n">m</span><span class="p">)</span> <span class="o">%</span> <span class="n">m</span>
    
    <span class="k">def</span> <span class="nf">encrypt</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">åŠ å¯†æ¶ˆæ¯</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nf">pow</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">e</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">n</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">decrypt</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">ciphertext</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è§£å¯†æ¶ˆæ¯</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nf">pow</span><span class="p">(</span><span class="n">ciphertext</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">d</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">n</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get_public_key</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è·å–å…¬é’¥</span><span class="sh">"""</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">e</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">n</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get_private_key</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è·å–ç§é’¥</span><span class="sh">"""</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">d</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">n</span><span class="p">)</span>

<span class="c1"># åˆ›å»ºRSAå®ä¾‹ï¼ˆä½¿ç”¨å°è´¨æ•°è¿›è¡Œæ¼”ç¤ºï¼‰
</span><span class="n">rsa</span> <span class="o">=</span> <span class="nc">SimpleRSA</span><span class="p">(</span><span class="mi">61</span><span class="p">,</span> <span class="mi">53</span><span class="p">)</span>  <span class="c1"># ä¸¤ä¸ªè´¨æ•°
</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">RSAå‚æ•°:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  p = </span><span class="si">{</span><span class="n">rsa</span><span class="p">.</span><span class="n">p</span><span class="si">}</span><span class="s">, q = </span><span class="si">{</span><span class="n">rsa</span><span class="p">.</span><span class="n">q</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  n = </span><span class="si">{</span><span class="n">rsa</span><span class="p">.</span><span class="n">n</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  Ï†(n) = </span><span class="si">{</span><span class="n">rsa</span><span class="p">.</span><span class="n">phi_n</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å…¬é’¥: (e=</span><span class="si">{</span><span class="n">rsa</span><span class="p">.</span><span class="n">e</span><span class="si">}</span><span class="s">, n=</span><span class="si">{</span><span class="n">rsa</span><span class="p">.</span><span class="n">n</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  ç§é’¥: (d=</span><span class="si">{</span><span class="n">rsa</span><span class="p">.</span><span class="n">d</span><span class="si">}</span><span class="s">, n=</span><span class="si">{</span><span class="n">rsa</span><span class="p">.</span><span class="n">n</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># åŠ å¯†å’Œè§£å¯†æ¼”ç¤º
</span><span class="n">messages</span> <span class="o">=</span> <span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">456</span><span class="p">,</span> <span class="mi">789</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">åŠ å¯†è§£å¯†æ¼”ç¤º:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">msg</span> <span class="o">&lt;</span> <span class="n">rsa</span><span class="p">.</span><span class="n">n</span><span class="p">:</span>  <span class="c1"># æ¶ˆæ¯å¿…é¡»å°äºn
</span>        <span class="n">encrypted</span> <span class="o">=</span> <span class="n">rsa</span><span class="p">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">decrypted</span> <span class="o">=</span> <span class="n">rsa</span><span class="p">.</span><span class="nf">decrypt</span><span class="p">(</span><span class="n">encrypted</span><span class="p">)</span>
        
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åŸå§‹æ¶ˆæ¯: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åŠ å¯†å: </span><span class="si">{</span><span class="n">encrypted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è§£å¯†å: </span><span class="si">{</span><span class="n">decrypted</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ­£ç¡®æ€§: </span><span class="si">{</span><span class="sh">'</span><span class="s">âœ“</span><span class="sh">'</span> <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">decrypted</span> <span class="k">else</span> <span class="sh">'</span><span class="s">âœ—</span><span class="sh">'</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">()</span>

<span class="c1"># 2. Diffie-Hellmanå¯†é’¥äº¤æ¢
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. Diffie-Hellmanå¯†é’¥äº¤æ¢:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">DiffieHellman</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Diffie-Hellmanå¯†é’¥äº¤æ¢æ¼”ç¤º</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">g</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">åˆå§‹åŒ–DHå‚æ•°</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">p</span>  <span class="c1"># å¤§è´¨æ•°
</span>        <span class="n">self</span><span class="p">.</span><span class="n">g</span> <span class="o">=</span> <span class="n">g</span>  <span class="c1"># ç”Ÿæˆå…ƒ
</span>    
    <span class="k">def</span> <span class="nf">generate_private_key</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ç”Ÿæˆç§é’¥ï¼ˆéšæœºæ•°ï¼‰</span><span class="sh">"""</span>
        <span class="kn">import</span> <span class="n">random</span>
        <span class="k">return</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">generate_public_key</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">private_key</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ç”Ÿæˆå…¬é’¥</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nf">pow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">g</span><span class="p">,</span> <span class="n">private_key</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">compute_shared_secret</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">private_key</span><span class="p">,</span> <span class="n">other_public_key</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è®¡ç®—å…±äº«å¯†é’¥</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nf">pow</span><span class="p">(</span><span class="n">other_public_key</span><span class="p">,</span> <span class="n">private_key</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>

<span class="c1"># DHå¯†é’¥äº¤æ¢æ¼”ç¤º
</span><span class="n">dh</span> <span class="o">=</span> <span class="nc">DiffieHellman</span><span class="p">(</span><span class="mi">2357</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># ä½¿ç”¨è´¨æ•°2357å’Œç”Ÿæˆå…ƒ2
</span>
<span class="c1"># Aliceç”Ÿæˆå¯†é’¥å¯¹
</span><span class="n">alice_private</span> <span class="o">=</span> <span class="n">dh</span><span class="p">.</span><span class="nf">generate_private_key</span><span class="p">()</span>
<span class="n">alice_public</span> <span class="o">=</span> <span class="n">dh</span><span class="p">.</span><span class="nf">generate_public_key</span><span class="p">(</span><span class="n">alice_private</span><span class="p">)</span>

<span class="c1"># Bobç”Ÿæˆå¯†é’¥å¯¹
</span><span class="n">bob_private</span> <span class="o">=</span> <span class="n">dh</span><span class="p">.</span><span class="nf">generate_private_key</span><span class="p">()</span>
<span class="n">bob_public</span> <span class="o">=</span> <span class="n">dh</span><span class="p">.</span><span class="nf">generate_public_key</span><span class="p">(</span><span class="n">bob_private</span><span class="p">)</span>

<span class="c1"># è®¡ç®—å…±äº«å¯†é’¥
</span><span class="n">alice_shared</span> <span class="o">=</span> <span class="n">dh</span><span class="p">.</span><span class="nf">compute_shared_secret</span><span class="p">(</span><span class="n">alice_private</span><span class="p">,</span> <span class="n">bob_public</span><span class="p">)</span>
<span class="n">bob_shared</span> <span class="o">=</span> <span class="n">dh</span><span class="p">.</span><span class="nf">compute_shared_secret</span><span class="p">(</span><span class="n">bob_private</span><span class="p">,</span> <span class="n">alice_public</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">DHå¯†é’¥äº¤æ¢:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å…¬å…±å‚æ•°: p=</span><span class="si">{</span><span class="n">dh</span><span class="p">.</span><span class="n">p</span><span class="si">}</span><span class="s">, g=</span><span class="si">{</span><span class="n">dh</span><span class="p">.</span><span class="n">g</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  Aliceç§é’¥: </span><span class="si">{</span><span class="n">alice_private</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  Aliceå…¬é’¥: </span><span class="si">{</span><span class="n">alice_public</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  Bobç§é’¥: </span><span class="si">{</span><span class="n">bob_private</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  Bobå…¬é’¥: </span><span class="si">{</span><span class="n">bob_public</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  Aliceè®¡ç®—çš„å…±äº«å¯†é’¥: </span><span class="si">{</span><span class="n">alice_shared</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  Bobè®¡ç®—çš„å…±äº«å¯†é’¥: </span><span class="si">{</span><span class="n">bob_shared</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å¯†é’¥ä¸€è‡´: </span><span class="si">{</span><span class="sh">'</span><span class="s">âœ“</span><span class="sh">'</span> <span class="k">if</span> <span class="n">alice_shared</span> <span class="o">==</span> <span class="n">bob_shared</span> <span class="k">else</span> <span class="sh">'</span><span class="s">âœ—</span><span class="sh">'</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 3. æ•°å­—ç­¾åï¼ˆç®€åŒ–ç‰ˆï¼‰
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">3. æ•°å­—ç­¾åæ¼”ç¤º:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">SimpleSignature</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">ç®€åŒ–çš„æ•°å­—ç­¾åæ–¹æ¡ˆ</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">g</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">p</span>
        <span class="n">self</span><span class="p">.</span><span class="n">g</span> <span class="o">=</span> <span class="n">g</span>
        <span class="n">self</span><span class="p">.</span><span class="n">private_key</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">self</span><span class="p">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="bp">None</span>
    
    <span class="k">def</span> <span class="nf">generate_keys</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ç”Ÿæˆå¯†é’¥å¯¹</span><span class="sh">"""</span>
        <span class="kn">import</span> <span class="n">random</span>
        <span class="n">self</span><span class="p">.</span><span class="n">private_key</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">g</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">private_key</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">sign</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">message_hash</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">ç­¾åï¼ˆç®€åŒ–ç‰ˆï¼‰</span><span class="sh">"""</span>
        <span class="kn">import</span> <span class="n">random</span>
        <span class="n">k</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">g</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>
        
        <span class="c1"># ç®€åŒ–çš„ç­¾åè®¡ç®—
</span>        <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">message_hash</span> <span class="o">+</span> <span class="n">self</span><span class="p">.</span><span class="n">private_key</span> <span class="o">*</span> <span class="n">r</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">p</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">verify</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">message_hash</span><span class="p">,</span> <span class="n">signature</span><span class="p">,</span> <span class="n">public_key</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">éªŒè¯ç­¾å</span><span class="sh">"""</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">signature</span>
        
        <span class="c1"># ç®€åŒ–çš„éªŒè¯è®¡ç®—
</span>        <span class="n">v1</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">g</span><span class="p">,</span> <span class="n">message_hash</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>
        <span class="n">v2</span> <span class="o">=</span> <span class="p">(</span><span class="nf">pow</span><span class="p">(</span><span class="n">public_key</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span><span class="p">)</span> <span class="o">*</span> <span class="nf">pow</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span><span class="p">))</span> <span class="o">%</span> <span class="n">self</span><span class="p">.</span><span class="n">p</span>
        
        <span class="k">return</span> <span class="n">v1</span> <span class="o">==</span> <span class="n">v2</span>

<span class="c1"># æ•°å­—ç­¾åæ¼”ç¤º
</span><span class="n">signer</span> <span class="o">=</span> <span class="nc">SimpleSignature</span><span class="p">(</span><span class="mi">2357</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">signer</span><span class="p">.</span><span class="nf">generate_keys</span><span class="p">()</span>

<span class="n">message_hash</span> <span class="o">=</span> <span class="mi">12345</span>  <span class="c1"># ç®€åŒ–çš„æ¶ˆæ¯å“ˆå¸Œ
</span><span class="n">signature</span> <span class="o">=</span> <span class="n">signer</span><span class="p">.</span><span class="nf">sign</span><span class="p">(</span><span class="n">message_hash</span><span class="p">)</span>
<span class="n">is_valid</span> <span class="o">=</span> <span class="n">signer</span><span class="p">.</span><span class="nf">verify</span><span class="p">(</span><span class="n">message_hash</span><span class="p">,</span> <span class="n">signature</span><span class="p">,</span> <span class="n">signer</span><span class="p">.</span><span class="n">public_key</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ•°å­—ç­¾å:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  ç§é’¥: </span><span class="si">{</span><span class="n">signer</span><span class="p">.</span><span class="n">private_key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å…¬é’¥: </span><span class="si">{</span><span class="n">signer</span><span class="p">.</span><span class="n">public_key</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  æ¶ˆæ¯å“ˆå¸Œ: </span><span class="si">{</span><span class="n">message_hash</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  ç­¾å: </span><span class="si">{</span><span class="n">signature</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  éªŒè¯ç»“æœ: </span><span class="si">{</span><span class="sh">'</span><span class="s">âœ“</span><span class="sh">'</span> <span class="k">if</span> <span class="n">is_valid</span> <span class="k">else</span> <span class="sh">'</span><span class="s">âœ—</span><span class="sh">'</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 4. å¿«é€Ÿå¹‚ç®—æ³•å®ç°
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">4. å¿«é€Ÿå¹‚ç®—æ³•å®ç°:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">fast_power</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">å¿«é€Ÿå¹‚ç®—æ³•å®ç°ï¼ˆæ•™å­¦ç”¨é€”ï¼‰</span><span class="sh">"""</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">base</span> <span class="o">=</span> <span class="n">base</span> <span class="o">%</span> <span class="n">mod</span> <span class="k">if</span> <span class="n">mod</span> <span class="k">else</span> <span class="n">base</span>
    
    <span class="k">while</span> <span class="n">exp</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># å¦‚æœæŒ‡æ•°æ˜¯å¥‡æ•°ï¼Œå°†å½“å‰åº•æ•°ä¹˜åˆ°ç»“æœä¸­
</span>        <span class="k">if</span> <span class="n">exp</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">result</span> <span class="o">*</span> <span class="n">base</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span> <span class="k">if</span> <span class="n">mod</span> <span class="k">else</span> <span class="n">result</span> <span class="o">*</span> <span class="n">base</span>
        
        <span class="c1"># æŒ‡æ•°é™¤ä»¥2ï¼Œåº•æ•°å¹³æ–¹
</span>        <span class="n">exp</span> <span class="o">=</span> <span class="n">exp</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>  <span class="c1"># ç­‰ä»·äº exp // 2
</span>        <span class="n">base</span> <span class="o">=</span> <span class="p">(</span><span class="n">base</span> <span class="o">*</span> <span class="n">base</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span> <span class="k">if</span> <span class="n">mod</span> <span class="k">else</span> <span class="n">base</span> <span class="o">*</span> <span class="n">base</span>
    
    <span class="k">return</span> <span class="n">result</span>

<span class="c1"># æµ‹è¯•å¿«é€Ÿå¹‚ç®—æ³•
</span><span class="n">test_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
<span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¿«é€Ÿå¹‚ç®—æ³•æµ‹è¯•:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">test_cases</span><span class="p">:</span>
    <span class="n">builtin_result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
    <span class="n">custom_result</span> <span class="o">=</span> <span class="nf">fast_power</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">builtin_result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">fast_power(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">custom_result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="sh">'</span><span class="s">âœ“</span><span class="sh">'</span> <span class="k">if</span> <span class="n">builtin_result</span> <span class="o">==</span> <span class="n">custom_result</span> <span class="k">else</span> <span class="sh">'</span><span class="s">âœ—</span><span class="sh">'</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="ç§‘å­¦è®¡ç®—åº”ç”¨">ç§‘å­¦è®¡ç®—åº”ç”¨</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ç§‘å­¦è®¡ç®—åº”ç”¨ç¤ºä¾‹
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">ç§‘å­¦è®¡ç®—åº”ç”¨ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 1. å¤åˆ©è®¡ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">1. å¤åˆ©è®¡ç®—:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">compound_interest</span><span class="p">(</span><span class="n">principal</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">compound_frequency</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">å¤åˆ©è®¡ç®—</span><span class="sh">"""</span>
    <span class="c1"># A = P(1 + r/n)^(nt)
</span>    <span class="c1"># P: æœ¬é‡‘, r: å¹´åˆ©ç‡, t: æ—¶é—´(å¹´), n: å¤åˆ©é¢‘ç‡
</span>    <span class="n">amount</span> <span class="o">=</span> <span class="n">principal</span> <span class="o">*</span> <span class="nf">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">rate</span><span class="o">/</span><span class="n">compound_frequency</span><span class="p">,</span> <span class="n">compound_frequency</span> <span class="o">*</span> <span class="n">time</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">amount</span>

<span class="k">def</span> <span class="nf">continuous_compound_interest</span><span class="p">(</span><span class="n">principal</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">è¿ç»­å¤åˆ©è®¡ç®—</span><span class="sh">"""</span>
    <span class="c1"># A = Pe^(rt)
</span>    <span class="kn">import</span> <span class="n">math</span>
    <span class="k">return</span> <span class="n">principal</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="n">rate</span> <span class="o">*</span> <span class="n">time</span><span class="p">)</span>

<span class="c1"># å¤åˆ©è®¡ç®—ç¤ºä¾‹
</span><span class="n">principal</span> <span class="o">=</span> <span class="mi">10000</span>  <span class="c1"># æœ¬é‡‘
</span><span class="n">rate</span> <span class="o">=</span> <span class="mf">0.05</span>        <span class="c1"># å¹´åˆ©ç‡5%
</span><span class="n">time</span> <span class="o">=</span> <span class="mi">10</span>          <span class="c1"># 10å¹´
</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æœ¬é‡‘: $</span><span class="si">{</span><span class="n">principal</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å¹´åˆ©ç‡: </span><span class="si">{</span><span class="n">rate</span><span class="o">*</span><span class="mi">100</span><span class="si">}</span><span class="s">%</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ—¶é—´: </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s">å¹´</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">()</span>

<span class="n">compound_frequencies</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="sh">"</span><span class="s">å¹´å¤åˆ©</span><span class="sh">"</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="sh">"</span><span class="s">å­£åº¦å¤åˆ©</span><span class="sh">"</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="sh">"</span><span class="s">æœˆå¤åˆ©</span><span class="sh">"</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">365</span><span class="p">,</span> <span class="sh">"</span><span class="s">æ—¥å¤åˆ©</span><span class="sh">"</span><span class="p">),</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">freq</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">compound_frequencies</span><span class="p">:</span>
    <span class="n">amount</span> <span class="o">=</span> <span class="nf">compound_interest</span><span class="p">(</span><span class="n">principal</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">freq</span><span class="p">)</span>
    <span class="n">interest</span> <span class="o">=</span> <span class="n">amount</span> <span class="o">-</span> <span class="n">principal</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">: $</span><span class="si">{</span><span class="n">amount</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> (åˆ©æ¯: $</span><span class="si">{</span><span class="n">interest</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è¿ç»­å¤åˆ©
</span><span class="n">continuous_amount</span> <span class="o">=</span> <span class="nf">continuous_compound_interest</span><span class="p">(</span><span class="n">principal</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>
<span class="n">continuous_interest</span> <span class="o">=</span> <span class="n">continuous_amount</span> <span class="o">-</span> <span class="n">principal</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">è¿ç»­å¤åˆ©: $</span><span class="si">{</span><span class="n">continuous_amount</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> (åˆ©æ¯: $</span><span class="si">{</span><span class="n">continuous_interest</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 2. äººå£å¢é•¿æ¨¡å‹
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">2. äººå£å¢é•¿æ¨¡å‹:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">exponential_growth</span><span class="p">(</span><span class="n">initial_population</span><span class="p">,</span> <span class="n">growth_rate</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">æŒ‡æ•°å¢é•¿æ¨¡å‹</span><span class="sh">"""</span>
    <span class="c1"># P(t) = P0 * e^(rt)
</span>    <span class="kn">import</span> <span class="n">math</span>
    <span class="k">return</span> <span class="n">initial_population</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="n">growth_rate</span> <span class="o">*</span> <span class="n">time</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">discrete_growth</span><span class="p">(</span><span class="n">initial_population</span><span class="p">,</span> <span class="n">growth_rate</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ç¦»æ•£å¢é•¿æ¨¡å‹</span><span class="sh">"""</span>
    <span class="c1"># P(t) = P0 * (1 + r)^t
</span>    <span class="k">return</span> <span class="n">initial_population</span> <span class="o">*</span> <span class="nf">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">growth_rate</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>

<span class="c1"># äººå£å¢é•¿è®¡ç®—
</span><span class="n">initial_pop</span> <span class="o">=</span> <span class="mi">1000000</span>  <span class="c1"># åˆå§‹äººå£100ä¸‡
</span><span class="n">growth_rate</span> <span class="o">=</span> <span class="mf">0.02</span>     <span class="c1"># å¹´å¢é•¿ç‡2%
</span><span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åˆå§‹äººå£: </span><span class="si">{</span><span class="n">initial_pop</span><span class="si">:</span><span class="p">,</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å¹´å¢é•¿ç‡: </span><span class="si">{</span><span class="n">growth_rate</span><span class="o">*</span><span class="mi">100</span><span class="si">}</span><span class="s">%</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">()</span>

<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="n">exp_pop</span> <span class="o">=</span> <span class="nf">exponential_growth</span><span class="p">(</span><span class="n">initial_pop</span><span class="p">,</span> <span class="n">growth_rate</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span>
    <span class="n">discrete_pop</span> <span class="o">=</span> <span class="nf">discrete_growth</span><span class="p">(</span><span class="n">initial_pop</span><span class="p">,</span> <span class="n">growth_rate</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s">å¹´å:</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  æŒ‡æ•°å¢é•¿æ¨¡å‹: </span><span class="si">{</span><span class="n">exp_pop</span><span class="si">:</span><span class="p">,.</span><span class="mi">0</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  ç¦»æ•£å¢é•¿æ¨¡å‹: </span><span class="si">{</span><span class="n">discrete_pop</span><span class="si">:</span><span class="p">,.</span><span class="mi">0</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å·®å¼‚: </span><span class="si">{</span><span class="nf">abs</span><span class="p">(</span><span class="n">exp_pop</span> <span class="o">-</span> <span class="n">discrete_pop</span><span class="p">)</span><span class="si">:</span><span class="p">,.</span><span class="mi">0</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># 3. æ”¾å°„æ€§è¡°å˜
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. æ”¾å°„æ€§è¡°å˜:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">radioactive_decay</span><span class="p">(</span><span class="n">initial_amount</span><span class="p">,</span> <span class="n">half_life</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">æ”¾å°„æ€§è¡°å˜è®¡ç®—</span><span class="sh">"""</span>
    <span class="c1"># N(t) = N0 * (1/2)^(t/t_half)
</span>    <span class="c1"># ç­‰ä»·äº N(t) = N0 * 2^(-t/t_half)
</span>    <span class="k">return</span> <span class="n">initial_amount</span> <span class="o">*</span> <span class="nf">pow</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">time</span> <span class="o">/</span> <span class="n">half_life</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">decay_constant_formula</span><span class="p">(</span><span class="n">initial_amount</span><span class="p">,</span> <span class="n">decay_constant</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ä½¿ç”¨è¡°å˜å¸¸æ•°çš„å…¬å¼</span><span class="sh">"""</span>
    <span class="c1"># N(t) = N0 * e^(-Î»t)
</span>    <span class="kn">import</span> <span class="n">math</span>
    <span class="k">return</span> <span class="n">initial_amount</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="n">decay_constant</span> <span class="o">*</span> <span class="n">time</span><span class="p">)</span>

<span class="c1"># æ”¾å°„æ€§è¡°å˜ç¤ºä¾‹
</span><span class="n">elements</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="sh">"</span><span class="s">ç¢³-14</span><span class="sh">"</span><span class="p">,</span> <span class="mi">5730</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>      <span class="c1"># åŠè¡°æœŸ5730å¹´ï¼Œåˆå§‹é‡1000
</span>    <span class="p">(</span><span class="sh">"</span><span class="s">é“€-238</span><span class="sh">"</span><span class="p">,</span> <span class="mf">4.468e9</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>  <span class="c1"># åŠè¡°æœŸ44.68äº¿å¹´
</span>    <span class="p">(</span><span class="sh">"</span><span class="s">æ°¡-222</span><span class="sh">"</span><span class="p">,</span> <span class="mf">3.8</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>      <span class="c1"># åŠè¡°æœŸ3.8å¤©
</span><span class="p">]</span>

<span class="k">for</span> <span class="n">element</span><span class="p">,</span> <span class="n">half_life</span><span class="p">,</span> <span class="n">initial</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s"> (åŠè¡°æœŸ: </span><span class="si">{</span><span class="n">half_life</span><span class="si">}</span><span class="s">):</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># è®¡ç®—ä¸åŒæ—¶é—´ç‚¹çš„å‰©ä½™é‡
</span>    <span class="n">time_points</span> <span class="o">=</span> <span class="p">[</span><span class="n">half_life</span> <span class="o">*</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]</span>
    
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">time_points</span><span class="p">:</span>
        <span class="n">remaining</span> <span class="o">=</span> <span class="nf">radioactive_decay</span><span class="p">(</span><span class="n">initial</span><span class="p">,</span> <span class="n">half_life</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
        <span class="n">percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">remaining</span> <span class="o">/</span> <span class="n">initial</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
        
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  </span><span class="si">{</span><span class="n">t</span><span class="si">:</span><span class="p">.</span><span class="mi">1</span><span class="n">f</span><span class="si">}</span><span class="s">æ—¶é—´å•ä½å: </span><span class="si">{</span><span class="n">remaining</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> (</span><span class="si">{</span><span class="n">percentage</span><span class="si">:</span><span class="p">.</span><span class="mi">1</span><span class="n">f</span><span class="si">}</span><span class="s">%)</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 4. åŒ–å­¦ååº”åŠ¨åŠ›å­¦
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">4. åŒ–å­¦ååº”åŠ¨åŠ›å­¦:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">first_order_reaction</span><span class="p">(</span><span class="n">initial_concentration</span><span class="p">,</span> <span class="n">rate_constant</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ä¸€çº§ååº”åŠ¨åŠ›å­¦</span><span class="sh">"""</span>
    <span class="c1"># [A] = [A]0 * e^(-kt)
</span>    <span class="kn">import</span> <span class="n">math</span>
    <span class="k">return</span> <span class="n">initial_concentration</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="o">-</span><span class="n">rate_constant</span> <span class="o">*</span> <span class="n">time</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">nth_order_reaction</span><span class="p">(</span><span class="n">initial_concentration</span><span class="p">,</span> <span class="n">rate_constant</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">order</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">nçº§ååº”åŠ¨åŠ›å­¦ï¼ˆç®€åŒ–ï¼‰</span><span class="sh">"""</span>
    <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="nf">first_order_reaction</span><span class="p">(</span><span class="n">initial_concentration</span><span class="p">,</span> <span class="n">rate_constant</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># ç®€åŒ–çš„nçº§ååº”å…¬å¼
</span>        <span class="k">return</span> <span class="n">initial_concentration</span> <span class="o">/</span> <span class="nf">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">order</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">rate_constant</span> <span class="o">*</span> <span class="n">initial_concentration</span><span class="o">**</span><span class="p">(</span><span class="n">order</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">time</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">order</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>

<span class="c1"># ååº”åŠ¨åŠ›å­¦è®¡ç®—
</span><span class="n">initial_conc</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># åˆå§‹æµ“åº¦ mol/L
</span><span class="n">rate_constant</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># é€Ÿç‡å¸¸æ•°
</span><span class="n">times</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åˆå§‹æµ“åº¦: </span><span class="si">{</span><span class="n">initial_conc</span><span class="si">}</span><span class="s"> mol/L</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">é€Ÿç‡å¸¸æ•°: </span><span class="si">{</span><span class="n">rate_constant</span><span class="si">}</span><span class="s"> sâ»Â¹</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">()</span>

<span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s">çº§ååº”:</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">times</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">conc</span> <span class="o">=</span> <span class="nf">first_order_reaction</span><span class="p">(</span><span class="n">initial_conc</span><span class="p">,</span> <span class="n">rate_constant</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">conc</span> <span class="o">=</span> <span class="nf">nth_order_reaction</span><span class="p">(</span><span class="n">initial_conc</span><span class="p">,</span> <span class="n">rate_constant</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  t=</span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s">s: [</span><span class="si">{</span><span class="n">conc</span><span class="si">:</span><span class="p">.</span><span class="mi">4</span><span class="n">f</span><span class="si">}</span><span class="s">] mol/L</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># 5. ä¿¡å·å¤„ç†ä¸­çš„å¹‚è¿ç®—
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">5. ä¿¡å·å¤„ç†åº”ç”¨:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">signal_power</span><span class="p">(</span><span class="n">amplitude</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">frequency</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ä¿¡å·åŠŸç‡è®¡ç®—</span><span class="sh">"""</span>
    <span class="kn">import</span> <span class="n">math</span>
    <span class="c1"># æ­£å¼¦ä¿¡å·: A * sin(2Ï€ft + Ï†)
</span>    <span class="n">signal_value</span> <span class="o">=</span> <span class="n">amplitude</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">frequency</span> <span class="o">*</span> <span class="n">time</span> <span class="o">+</span> <span class="n">phase</span><span class="p">)</span>
    <span class="c1"># åŠŸç‡ = ä¿¡å·å€¼çš„å¹³æ–¹
</span>    <span class="k">return</span> <span class="nf">pow</span><span class="p">(</span><span class="n">signal_value</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">rms_value</span><span class="p">(</span><span class="n">amplitude</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">RMSå€¼è®¡ç®—</span><span class="sh">"""</span>
    <span class="c1"># æ­£å¼¦æ³¢çš„RMSå€¼ = å³°å€¼ / âˆš2
</span>    <span class="k">return</span> <span class="n">amplitude</span> <span class="o">/</span> <span class="nf">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">db_conversion</span><span class="p">(</span><span class="n">power_ratio</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">åŠŸç‡æ¯”è½¬æ¢ä¸ºåˆ†è´</span><span class="sh">"""</span>
    <span class="kn">import</span> <span class="n">math</span>
    <span class="k">return</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="nf">log10</span><span class="p">(</span><span class="n">power_ratio</span><span class="p">)</span>

<span class="c1"># ä¿¡å·å¤„ç†ç¤ºä¾‹
</span><span class="n">amplitude</span> <span class="o">=</span> <span class="mf">5.0</span>    <span class="c1"># æŒ¯å¹…
</span><span class="n">frequency</span> <span class="o">=</span> <span class="mf">50.0</span>   <span class="c1"># é¢‘ç‡ Hz
</span><span class="n">time_points</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mf">0.001</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>  <span class="c1"># æ—¶é—´ç‚¹
</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ä¿¡å·å‚æ•°: æŒ¯å¹…=</span><span class="si">{</span><span class="n">amplitude</span><span class="si">}</span><span class="s">V, é¢‘ç‡=</span><span class="si">{</span><span class="n">frequency</span><span class="si">}</span><span class="s">Hz</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">RMSå€¼: </span><span class="si">{</span><span class="nf">rms_value</span><span class="p">(</span><span class="n">amplitude</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">3</span><span class="n">f</span><span class="si">}</span><span class="s">V</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">()</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ—¶é—´ç‚¹</span><span class="se">\t</span><span class="s">ä¿¡å·å€¼</span><span class="se">\t\t</span><span class="s">åŠŸç‡</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">time_points</span><span class="p">[:</span><span class="mi">10</span><span class="p">]:</span>  <span class="c1"># åªæ˜¾ç¤ºå‰10ä¸ªç‚¹
</span>    <span class="n">signal_val</span> <span class="o">=</span> <span class="n">amplitude</span> <span class="o">*</span> <span class="nf">pow</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="p">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">frequency</span> <span class="o">*</span> <span class="n">t</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">power</span> <span class="o">=</span> <span class="nf">signal_power</span><span class="p">(</span><span class="n">amplitude</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">frequency</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">t</span><span class="si">:</span><span class="p">.</span><span class="mi">3</span><span class="n">f</span><span class="si">}</span><span class="s">s</span><span class="se">\t</span><span class="si">{</span><span class="n">signal_val</span><span class="si">:</span><span class="mf">6.3</span><span class="n">f</span><span class="si">}</span><span class="s">V</span><span class="se">\t\t</span><span class="si">{</span><span class="n">power</span><span class="si">:</span><span class="p">.</span><span class="mi">3</span><span class="n">f</span><span class="si">}</span><span class="s">W</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># åŠŸç‡æ¯”è¾ƒ
</span><span class="n">reference_power</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">signal_powers</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">åŠŸç‡æ¯”è¾ƒ (å‚è€ƒåŠŸç‡: </span><span class="si">{</span><span class="n">reference_power</span><span class="si">}</span><span class="s">W):</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">power</span> <span class="ow">in</span> <span class="n">signal_powers</span><span class="p">:</span>
    <span class="n">ratio</span> <span class="o">=</span> <span class="n">power</span> <span class="o">/</span> <span class="n">reference_power</span>
    <span class="n">db_value</span> <span class="o">=</span> <span class="nf">db_conversion</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">power</span><span class="si">}</span><span class="s">W: </span><span class="si">{</span><span class="n">ratio</span><span class="si">}</span><span class="s">å€, </span><span class="si">{</span><span class="n">db_value</span><span class="si">:</span><span class="p">.</span><span class="mi">1</span><span class="n">f</span><span class="si">}</span><span class="s">dB</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="ï¸-æ³¨æ„äº‹é¡¹">âš ï¸ æ³¨æ„äº‹é¡¹</h2>

<h3 id="å¸¸è§é™·é˜±å’Œæœ€ä½³å®è·µ">å¸¸è§é™·é˜±å’Œæœ€ä½³å®è·µ</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># pow()å‡½æ•°çš„å¸¸è§é™·é˜±å’Œæœ€ä½³å®è·µ
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">pow()å‡½æ•°å¸¸è§é™·é˜±å’Œæœ€ä½³å®è·µ:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># é™·é˜±1: pow() vs ** è¿ç®—ç¬¦çš„é€‰æ‹©
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">é™·é˜±1: pow() vs ** è¿ç®—ç¬¦</span><span class="sh">"</span><span class="p">)</span>

<span class="kn">import</span> <span class="n">time</span>

<span class="c1"># åŸºæœ¬å¹‚è¿ç®—æ€§èƒ½å¯¹æ¯”
</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">result1</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
<span class="n">time1</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">result2</span> <span class="o">=</span> <span class="n">base</span> <span class="o">**</span> <span class="n">exp</span>
<span class="n">time2</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">): </span><span class="si">{</span><span class="n">time1</span><span class="si">:</span><span class="p">.</span><span class="mi">8</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s"> ** </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">time2</span><span class="si">:</span><span class="p">.</span><span class="mi">8</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="n">result1</span> <span class="o">==</span> <span class="n">result2</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ¨¡å¹‚è¿ç®—çš„å·¨å¤§æ€§èƒ½å·®å¼‚
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ¨¡å¹‚è¿ç®—æ€§èƒ½å·®å¼‚:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">large_base</span><span class="p">,</span> <span class="n">large_exp</span><span class="p">,</span> <span class="n">mod</span> <span class="o">=</span> <span class="mi">123456</span><span class="p">,</span> <span class="mi">789012</span><span class="p">,</span> <span class="mi">345678</span>

<span class="c1"># pow()çš„ä¸‰å‚æ•°å½¢å¼ï¼ˆé«˜æ•ˆï¼‰
</span><span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">efficient_result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">large_base</span><span class="p">,</span> <span class="n">large_exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
<span class="n">efficient_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">large_base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">large_exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">): </span><span class="si">{</span><span class="n">efficient_time</span><span class="si">:</span><span class="p">.</span><span class="mi">8</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœ: </span><span class="si">{</span><span class="n">efficient_result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ä¼ ç»Ÿæ–¹æ³•ä¼šéå¸¸æ…¢ï¼Œè¿™é‡Œåªåšè¯´æ˜
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">(base ** exp) % mod æ–¹æ³•å¯¹äºå¤§æ•°ä¼šæå…¶ç¼“æ…¢ï¼Œå·²è·³è¿‡</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æœ€ä½³å®è·µ:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">- å¯¹äºæ¨¡å¹‚è¿ç®—ï¼Œå§‹ç»ˆä½¿ç”¨pow(base, exp, mod)</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">- å¯¹äºç®€å•å¹‚è¿ç®—ï¼Œpow()å’Œ**æ€§èƒ½ç›¸è¿‘</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">- åœ¨å¯†ç å­¦åº”ç”¨ä¸­ï¼Œå¿…é¡»ä½¿ç”¨pow()çš„ä¸‰å‚æ•°å½¢å¼</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># é™·é˜±2: æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">é™·é˜±2: æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å¤§æŒ‡æ•°çš„æµ®ç‚¹æ•°è¿ç®—å¯èƒ½å¯¼è‡´ç²¾åº¦ä¸¢å¤±
</span><span class="n">test_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="p">(</span><span class="mf">1.01</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>
    <span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>  <span class="c1"># å¼€æ–¹è¿ç®—
</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ç¤ºä¾‹:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">test_cases</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># å¯¹äºå¼€æ–¹ï¼ŒéªŒè¯ç»“æœ
</span>    <span class="k">if</span> <span class="n">exp</span> <span class="o">==</span> <span class="mf">0.5</span><span class="p">:</span>
        <span class="n">verification</span> <span class="o">=</span> <span class="n">result</span> <span class="o">*</span> <span class="n">result</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  éªŒè¯: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s">Â² = </span><span class="si">{</span><span class="n">verification</span><span class="si">}</span><span class="s"> (æœŸæœ›: </span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">)</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  è¯¯å·®: </span><span class="si">{</span><span class="nf">abs</span><span class="p">(</span><span class="n">verification</span> <span class="o">-</span> <span class="n">base</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">è§£å†³æ–¹æ¡ˆ: ä½¿ç”¨decimalæ¨¡å—è¿›è¡Œé«˜ç²¾åº¦è®¡ç®—</span><span class="sh">"</span><span class="p">)</span>
<span class="kn">from</span> <span class="n">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span><span class="p">,</span> <span class="n">getcontext</span>

<span class="nf">getcontext</span><span class="p">().</span><span class="n">prec</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># è®¾ç½®50ä½ç²¾åº¦
</span>
<span class="n">decimal_base</span> <span class="o">=</span> <span class="nc">Decimal</span><span class="p">(</span><span class="sh">'</span><span class="s">1.1</span><span class="sh">'</span><span class="p">)</span>
<span class="n">decimal_exp</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">decimal_result</span> <span class="o">=</span> <span class="n">decimal_base</span> <span class="o">**</span> <span class="n">decimal_exp</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Decimalè®¡ç®—: </span><span class="si">{</span><span class="n">decimal_base</span><span class="si">}</span><span class="s">^</span><span class="si">{</span><span class="n">decimal_exp</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">decimal_result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># é™·é˜±3: å¤æ•°å¹‚è¿ç®—çš„åˆ†æ”¯åˆ‡å‰²
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">é™·é˜±3: å¤æ•°å¹‚è¿ç®—çš„åˆ†æ”¯åˆ‡å‰²</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># å¤æ•°å¹‚è¿ç®—å¯èƒ½æœ‰å¤šä¸ªå€¼
</span><span class="n">complex_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>      <span class="c1"># (-1)^(1/2) = i
</span>    <span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span>      <span class="c1"># (-8)^(1/3) çš„ä¸»å€¼
</span>    <span class="p">(</span><span class="mf">1j</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>        <span class="c1"># i^2 = -1
</span>    <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mf">1j</span><span class="p">,</span> <span class="mi">1</span><span class="o">+</span><span class="mf">1j</span><span class="p">),</span>   <span class="c1"># å¤æ•°åº•æ•°å’ŒæŒ‡æ•°
</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¤æ•°å¹‚è¿ç®—:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">complex_cases</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  æ¨¡é•¿: </span><span class="si">{</span><span class="nf">abs</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å¹…è§’: </span><span class="si">{</span><span class="n">math</span><span class="p">.</span><span class="nf">atan2</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">imag</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">real</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s"> å¼§åº¦</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ³¨æ„: Pythonè¿”å›ä¸»å€¼ï¼Œå¤æ•°å¹‚è¿ç®—å¯èƒ½æœ‰å¤šä¸ªæ•°å­¦ä¸Šæ­£ç¡®çš„å€¼</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># é™·é˜±4: æ•´æ•°æº¢å‡ºï¼ˆåœ¨å…¶ä»–è¯­è¨€ä¸­ï¼‰
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">é™·é˜±4: å¤§æ•´æ•°å¤„ç†</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Pythonè‡ªåŠ¨å¤„ç†å¤§æ•´æ•°ï¼Œä½†è¦æ³¨æ„æ€§èƒ½
</span><span class="n">large_numbers</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
<span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¤§æ•´æ•°å¹‚è¿ç®—:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">large_numbers</span><span class="p">:</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
    <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    
    <span class="n">result_str</span> <span class="o">=</span> <span class="nf">str</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">result_str</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
        <span class="n">display_result</span> <span class="o">=</span> <span class="n">result_str</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span> <span class="o">+</span> <span class="sh">"</span><span class="s">...</span><span class="sh">"</span> <span class="o">+</span> <span class="n">result_str</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">:]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">display_result</span> <span class="o">=</span> <span class="n">result_str</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">): </span><span class="si">{</span><span class="n">display_result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  ä½æ•°: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">result_str</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  è€—æ—¶: </span><span class="si">{</span><span class="n">elapsed</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># é™·é˜±5: æ¨¡è¿ç®—çš„å‚æ•°é™åˆ¶
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">é™·é˜±5: æ¨¡è¿ç®—å‚æ•°é™åˆ¶</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># æ¨¡æ•°å¿…é¡»æ˜¯æ­£æ•´æ•°
</span><span class="n">invalid_mod_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>      <span class="c1"># æ¨¡æ•°ä¸º0
</span>    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">),</span>     <span class="c1"># è´Ÿæ¨¡æ•°
</span>    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">),</span>    <span class="c1"># æµ®ç‚¹æ¨¡æ•°
</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æ— æ•ˆçš„æ¨¡è¿ç®—å‚æ•°:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">invalid_mod_cases</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">) é”™è¯¯: </span><span class="si">{</span><span class="nf">type</span><span class="p">(</span><span class="n">e</span><span class="p">).</span><span class="n">__name__</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># è´ŸæŒ‡æ•°çš„æ¨¡è¿ç®—éœ€è¦æ¨¡é€†å…ƒå­˜åœ¨
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">è´ŸæŒ‡æ•°æ¨¡è¿ç®—:</span><span class="sh">"</span><span class="p">)</span>
<span class="n">negative_exp_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>     <span class="c1"># 2^(-1) mod 7ï¼Œéœ€è¦2åœ¨æ¨¡7ä¸‹çš„é€†å…ƒ
</span>    <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>    <span class="c1"># 3^(-2) mod 10ï¼Œéœ€è¦3åœ¨æ¨¡10ä¸‹çš„é€†å…ƒ
</span>    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>     <span class="c1"># 2^(-1) mod 4ï¼Œ2å’Œ4ä¸äº’è´¨ï¼Œæ— é€†å…ƒ
</span><span class="p">]</span>

<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">negative_exp_cases</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">) = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="c1"># éªŒè¯ç»“æœ
</span>        <span class="n">verification</span> <span class="o">=</span> <span class="p">(</span><span class="n">base</span> <span class="o">*</span> <span class="n">result</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  éªŒè¯: (</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s"> * </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s">) mod </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">verification</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">) é”™è¯¯: </span><span class="si">{</span><span class="nf">type</span><span class="p">(</span><span class="n">e</span><span class="p">).</span><span class="n">__name__</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">()</span>

<span class="c1"># æœ€ä½³å®è·µæ€»ç»“
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">æœ€ä½³å®è·µæ€»ç»“:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">1. æ¨¡å¹‚è¿ç®—å¿…é¡»ä½¿ç”¨pow(base, exp, mod)ï¼Œä¸è¦ç”¨(base**exp)%mod</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. å¯¹äºé«˜ç²¾åº¦è®¡ç®—ï¼Œè€ƒè™‘ä½¿ç”¨decimalæ¨¡å—</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. å¤æ•°å¹‚è¿ç®—è¦ç†è§£åˆ†æ”¯åˆ‡å‰²çš„æ¦‚å¿µ</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">4. å¤§æ•´æ•°è¿ç®—è¦è€ƒè™‘æ€§èƒ½å½±å“</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">5. æ¨¡è¿ç®—çš„æ¨¡æ•°å¿…é¡»æ˜¯æ­£æ•´æ•°</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">6. è´ŸæŒ‡æ•°æ¨¡è¿ç®—è¦æ±‚åº•æ•°ä¸æ¨¡æ•°äº’è´¨</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">7. åœ¨å¯†ç å­¦åº”ç”¨ä¸­ï¼Œè¦éªŒè¯å‚æ•°çš„æœ‰æ•ˆæ€§</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">8. å¯¹äºç§‘å­¦è®¡ç®—ï¼Œè¦è€ƒè™‘æ•°å€¼ç¨³å®šæ€§</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="-æ€§èƒ½ä¼˜åŒ–">ğŸ”§ æ€§èƒ½ä¼˜åŒ–</h2>

<h3 id="pow-æ€§èƒ½ä¼˜åŒ–æŠ€å·§">pow() æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># pow() æ€§èƒ½ä¼˜åŒ–æŠ€å·§
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">pow() æ€§èƒ½ä¼˜åŒ–æŠ€å·§:</span><span class="sh">"</span><span class="p">)</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">random</span>

<span class="c1"># 1. æ‰¹é‡æ¨¡å¹‚è¿ç®—ä¼˜åŒ–
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">1. æ‰¹é‡æ¨¡å¹‚è¿ç®—ä¼˜åŒ–:</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># ç”Ÿæˆæµ‹è¯•æ•°æ®
</span><span class="n">random</span><span class="p">.</span><span class="nf">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">test_data</span> <span class="o">=</span> <span class="p">[(</span><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span> 
             <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)]</span>

<span class="c1"># æ–¹æ³•1: ç›´æ¥è®¡ç®—
</span><span class="k">def</span> <span class="nf">batch_pow_direct</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span> <span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>

<span class="c1"># æ–¹æ³•2: é¢„å¤„ç†ç›¸åŒæ¨¡æ•°çš„æƒ…å†µ
</span><span class="k">def</span> <span class="nf">batch_pow_grouped</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="kn">from</span> <span class="n">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
    
    <span class="c1"># æŒ‰æ¨¡æ•°åˆ†ç»„
</span>    <span class="n">grouped</span> <span class="o">=</span> <span class="nf">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="n">grouped</span><span class="p">[</span><span class="n">mod</span><span class="p">].</span><span class="nf">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">))</span>
    
    <span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nf">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    
    <span class="c1"># å¯¹æ¯ä¸ªæ¨¡æ•°ç»„è¿›è¡Œæ‰¹é‡è®¡ç®—
</span>    <span class="k">for</span> <span class="n">mod</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">grouped</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">group</span><span class="p">:</span>
            <span class="n">results</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">results</span>

<span class="c1"># æ€§èƒ½æµ‹è¯•
</span><span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">result1</span> <span class="o">=</span> <span class="nf">batch_pow_direct</span><span class="p">(</span><span class="n">test_data</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>
<span class="n">time1</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">result2</span> <span class="o">=</span> <span class="nf">batch_pow_grouped</span><span class="p">(</span><span class="n">test_data</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>
<span class="n">time2</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç›´æ¥è®¡ç®—: </span><span class="si">{</span><span class="n">time1</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åˆ†ç»„è®¡ç®—: </span><span class="si">{</span><span class="n">time2</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="n">result1</span> <span class="o">==</span> <span class="n">result2</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ€§èƒ½å·®å¼‚: </span><span class="si">{</span><span class="nf">abs</span><span class="p">(</span><span class="n">time1</span> <span class="o">-</span> <span class="n">time2</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 2. ç¼“å­˜ä¼˜åŒ–
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">2. ç¼“å­˜ä¼˜åŒ–:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">PowCache</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">å¹‚è¿ç®—ç¼“å­˜å™¨</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="mi">10000</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">max_size</span> <span class="o">=</span> <span class="n">max_size</span>
    
    <span class="k">def</span> <span class="nf">pow_cached</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">å¸¦ç¼“å­˜çš„å¹‚è¿ç®—</span><span class="sh">"""</span>
        <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">mod</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
        
        <span class="c1"># ç®€å•çš„ç¼“å­˜å¤§å°æ§åˆ¶
</span>        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">self</span><span class="p">.</span><span class="n">max_size</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
        
        <span class="k">return</span> <span class="n">result</span>
    
    <span class="k">def</span> <span class="nf">clear_cache</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">cache</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>

<span class="c1"># åˆ›å»ºé‡å¤æ•°æ®è¿›è¡Œç¼“å­˜æµ‹è¯•
</span><span class="n">repeated_data</span> <span class="o">=</span> <span class="p">[(</span><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span> 
                 <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">random</span><span class="p">.</span><span class="nf">shuffle</span><span class="p">(</span><span class="n">repeated_data</span><span class="p">)</span>

<span class="n">cache_pow</span> <span class="o">=</span> <span class="nc">PowCache</span><span class="p">()</span>

<span class="c1"># æ— ç¼“å­˜æµ‹è¯•
</span><span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">no_cache_results</span> <span class="o">=</span> <span class="p">[</span><span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span> <span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">repeated_data</span><span class="p">]</span>
<span class="n">no_cache_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="c1"># æœ‰ç¼“å­˜æµ‹è¯•
</span><span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">cache_results</span> <span class="o">=</span> <span class="p">[</span><span class="n">cache_pow</span><span class="p">.</span><span class="nf">pow_cached</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span> <span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">repeated_data</span><span class="p">]</span>
<span class="n">cache_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ•°æ®é‡: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">repeated_data</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç¼“å­˜å¤§å°: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">cache_pow</span><span class="p">.</span><span class="n">cache</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ— ç¼“å­˜: </span><span class="si">{</span><span class="n">no_cache_time</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æœ‰ç¼“å­˜: </span><span class="si">{</span><span class="n">cache_time</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ€§èƒ½æå‡: </span><span class="si">{</span><span class="p">(</span><span class="n">no_cache_time</span><span class="o">/</span><span class="n">cache_time</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">x</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="n">no_cache_results</span> <span class="o">==</span> <span class="n">cache_results</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 3. é¢„è®¡ç®—ä¼˜åŒ–
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">3. é¢„è®¡ç®—ä¼˜åŒ–:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">PrecomputedPowers</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">é¢„è®¡ç®—å¹‚æ¬¡è¡¨</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">max_exp</span><span class="p">,</span> <span class="n">mod</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">base</span> <span class="o">=</span> <span class="n">base</span>
        <span class="n">self</span><span class="p">.</span><span class="n">mod</span> <span class="o">=</span> <span class="n">mod</span>
        <span class="n">self</span><span class="p">.</span><span class="n">powers</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="c1"># é¢„è®¡ç®—å¹‚æ¬¡è¡¨
</span>        <span class="n">current_power</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">exp</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">max_exp</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">mod</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="n">powers</span><span class="p">[</span><span class="n">exp</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_power</span> <span class="o">%</span> <span class="n">mod</span>
                <span class="n">current_power</span> <span class="o">=</span> <span class="p">(</span><span class="n">current_power</span> <span class="o">*</span> <span class="n">base</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="n">powers</span><span class="p">[</span><span class="n">exp</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_power</span>
                <span class="n">current_power</span> <span class="o">*=</span> <span class="n">base</span>
    
    <span class="k">def</span> <span class="nf">get_power</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">exp</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è·å–é¢„è®¡ç®—çš„å¹‚</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">powers</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">compute_power</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">exp</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">è®¡ç®—å¹‚ï¼ˆä½¿ç”¨é¢„è®¡ç®—è¡¨ä¼˜åŒ–ï¼‰</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">powers</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">powers</span><span class="p">[</span><span class="n">exp</span><span class="p">]</span>
        
        <span class="c1"># å¦‚æœè¶…å‡ºé¢„è®¡ç®—èŒƒå›´ï¼Œä½¿ç”¨æ ‡å‡†æ–¹æ³•
</span>        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">mod</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">pow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">mod</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">pow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">)</span>

<span class="c1"># é¢„è®¡ç®—æµ‹è¯•
</span><span class="n">base</span><span class="p">,</span> <span class="n">mod</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1000</span>
<span class="n">max_precompute</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">precomputed</span> <span class="o">=</span> <span class="nc">PrecomputedPowers</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">max_precompute</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>

<span class="c1"># æµ‹è¯•æŒ‡æ•°åˆ—è¡¨
</span><span class="n">test_exponents</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_precompute</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>

<span class="c1"># æ ‡å‡†è®¡ç®—
</span><span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">standard_results</span> <span class="o">=</span> <span class="p">[</span><span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span> <span class="k">for</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">test_exponents</span><span class="p">]</span>
<span class="n">standard_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="c1"># é¢„è®¡ç®—æ–¹æ³•
</span><span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">precomputed_results</span> <span class="o">=</span> <span class="p">[</span><span class="n">precomputed</span><span class="p">.</span><span class="nf">get_power</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span> <span class="k">for</span> <span class="n">exp</span> <span class="ow">in</span> <span class="n">test_exponents</span><span class="p">]</span>
<span class="n">precomputed_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">åº•æ•°: </span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, æ¨¡æ•°: </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">é¢„è®¡ç®—èŒƒå›´: 0-</span><span class="si">{</span><span class="n">max_precompute</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æµ‹è¯•æ¬¡æ•°: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">test_exponents</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ ‡å‡†è®¡ç®—: </span><span class="si">{</span><span class="n">standard_time</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">é¢„è®¡ç®—: </span><span class="si">{</span><span class="n">precomputed_time</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ€§èƒ½æå‡: </span><span class="si">{</span><span class="p">(</span><span class="n">standard_time</span><span class="o">/</span><span class="n">precomputed_time</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">x</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="n">standard_results</span> <span class="o">==</span> <span class="n">precomputed_results</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 4. äºŒè¿›åˆ¶æŒ‡æ•°ä¼˜åŒ–
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">4. äºŒè¿›åˆ¶æŒ‡æ•°ä¼˜åŒ–:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">optimized_pow_mod</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">ä¼˜åŒ–çš„æ¨¡å¹‚è¿ç®—</span><span class="sh">"""</span>
    <span class="k">if</span> <span class="n">mod</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">base</span> <span class="o">=</span> <span class="n">base</span> <span class="o">%</span> <span class="n">mod</span>
    
    <span class="k">while</span> <span class="n">exp</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># å¦‚æœæŒ‡æ•°çš„æœ€ä½ä½æ˜¯1
</span>        <span class="k">if</span> <span class="n">exp</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">result</span> <span class="o">*</span> <span class="n">base</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
        
        <span class="c1"># æŒ‡æ•°å³ç§»ä¸€ä½ï¼Œåº•æ•°å¹³æ–¹
</span>        <span class="n">exp</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span>
        <span class="n">base</span> <span class="o">=</span> <span class="p">(</span><span class="n">base</span> <span class="o">*</span> <span class="n">base</span><span class="p">)</span> <span class="o">%</span> <span class="n">mod</span>
    
    <span class="k">return</span> <span class="n">result</span>

<span class="c1"># æµ‹è¯•äºŒè¿›åˆ¶æŒ‡æ•°ä¼˜åŒ–
</span><span class="n">large_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="mi">456789</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">789</span><span class="p">,</span> <span class="mi">123456</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">456</span><span class="p">,</span> <span class="mi">789012</span><span class="p">,</span> <span class="mi">100000</span><span class="p">),</span>
<span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">äºŒè¿›åˆ¶æŒ‡æ•°ä¼˜åŒ–æµ‹è¯•:</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">large_cases</span><span class="p">:</span>
    <span class="c1"># å†…ç½®powå‡½æ•°
</span>    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
    <span class="n">builtin_result</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
    <span class="n">builtin_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    
    <span class="c1"># ä¼˜åŒ–å®ç°
</span>    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
    <span class="n">optimized_result</span> <span class="o">=</span> <span class="nf">optimized_pow_mod</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
    <span class="n">optimized_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">pow(</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">exp</span><span class="si">}</span><span class="s">, </span><span class="si">{</span><span class="n">mod</span><span class="si">}</span><span class="s">):</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  å†…ç½®å‡½æ•°: </span><span class="si">{</span><span class="n">builtin_result</span><span class="si">}</span><span class="s"> (</span><span class="si">{</span><span class="n">builtin_time</span><span class="si">:</span><span class="p">.</span><span class="mi">8</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’)</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  ä¼˜åŒ–å®ç°: </span><span class="si">{</span><span class="n">optimized_result</span><span class="si">}</span><span class="s"> (</span><span class="si">{</span><span class="n">optimized_time</span><span class="si">:</span><span class="p">.</span><span class="mi">8</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’)</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="n">builtin_result</span> <span class="o">==</span> <span class="n">optimized_result</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  æ€§èƒ½æ¯”è¾ƒ: </span><span class="si">{</span><span class="n">optimized_time</span><span class="o">/</span><span class="n">builtin_time</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">x</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 5. å¹¶è¡Œè®¡ç®—ä¼˜åŒ–
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">5. å¹¶è¡Œè®¡ç®—ä¼˜åŒ–:</span><span class="sh">"</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="n">concurrent.futures</span> <span class="kn">import</span> <span class="n">ThreadPoolExecutor</span><span class="p">,</span> <span class="n">ProcessPoolExecutor</span>
    <span class="kn">import</span> <span class="n">multiprocessing</span>
    
    <span class="k">def</span> <span class="nf">compute_pow_batch</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">æ‰¹é‡è®¡ç®—å¹‚è¿ç®—</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="p">[</span><span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span> <span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
    
    <span class="c1"># ç”Ÿæˆå¤§é‡æµ‹è¯•æ•°æ®
</span>    <span class="n">large_test_data</span> <span class="o">=</span> <span class="p">[(</span><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span> 
                       <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)]</span>
    
    <span class="c1"># ä¸²è¡Œè®¡ç®—
</span>    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
    <span class="n">serial_results</span> <span class="o">=</span> <span class="p">[</span><span class="nf">pow</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span> <span class="k">for</span> <span class="n">base</span><span class="p">,</span> <span class="n">exp</span><span class="p">,</span> <span class="n">mod</span> <span class="ow">in</span> <span class="n">large_test_data</span><span class="p">]</span>
    <span class="n">serial_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    
    <span class="c1"># å¹¶è¡Œè®¡ç®—ï¼ˆçº¿ç¨‹æ± ï¼‰
</span>    <span class="n">chunk_size</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">large_test_data</span><span class="p">)</span> <span class="o">//</span> <span class="mi">4</span>
    <span class="n">chunks</span> <span class="o">=</span> <span class="p">[</span><span class="n">large_test_data</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="n">chunk_size</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">large_test_data</span><span class="p">),</span> <span class="n">chunk_size</span><span class="p">)]</span>
    
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
    <span class="k">with</span> <span class="nc">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
        <span class="n">parallel_results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">futures</span> <span class="o">=</span> <span class="p">[</span><span class="n">executor</span><span class="p">.</span><span class="nf">submit</span><span class="p">(</span><span class="n">compute_pow_batch</span><span class="p">,</span> <span class="n">chunk</span><span class="p">)</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunks</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">futures</span><span class="p">:</span>
            <span class="n">parallel_results</span><span class="p">.</span><span class="nf">extend</span><span class="p">(</span><span class="n">future</span><span class="p">.</span><span class="nf">result</span><span class="p">())</span>
    <span class="n">parallel_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ•°æ®é‡: </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">large_test_data</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ä¸²è¡Œè®¡ç®—: </span><span class="si">{</span><span class="n">serial_time</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">å¹¶è¡Œè®¡ç®—: </span><span class="si">{</span><span class="n">parallel_time</span><span class="si">:</span><span class="p">.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s">ç§’</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">æ€§èƒ½æå‡: </span><span class="si">{</span><span class="p">(</span><span class="n">serial_time</span><span class="o">/</span><span class="n">parallel_time</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">x</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">ç»“æœä¸€è‡´: </span><span class="si">{</span><span class="n">serial_results</span> <span class="o">==</span> <span class="n">parallel_results</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
<span class="k">except</span> <span class="nb">ImportError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">å¹¶å‘æ¨¡å—ä¸å¯ç”¨ï¼Œè·³è¿‡å¹¶è¡Œè®¡ç®—æµ‹è¯•</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="s">æ€§èƒ½ä¼˜åŒ–æ€»ç»“:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">1. å¯¹äºé‡å¤è®¡ç®—ï¼Œä½¿ç”¨ç¼“å­˜å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">2. é¢„è®¡ç®—å¸¸ç”¨çš„å¹‚æ¬¡è¡¨é€‚ç”¨äºå›ºå®šåº•æ•°çš„åœºæ™¯</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">3. Pythonçš„å†…ç½®pow()å·²ç»é«˜åº¦ä¼˜åŒ–ï¼Œè‡ªå®šä¹‰å®ç°é€šå¸¸ä¸ä¼šæ›´å¿«</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">4. å¯¹äºå¤§é‡ç‹¬ç«‹è®¡ç®—ï¼Œå¯ä»¥è€ƒè™‘å¹¶è¡Œå¤„ç†</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">5. åˆ†ç»„å¤„ç†ç›¸åŒæ¨¡æ•°çš„è®¡ç®—å¯èƒ½å¸¦æ¥å°å¹…ä¼˜åŒ–</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">6. åœ¨å¯†ç å­¦åº”ç”¨ä¸­ï¼Œè¦å¹³è¡¡æ€§èƒ½å’Œå®‰å…¨æ€§</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="-ç›¸å…³å‡½æ•°å’Œæ¨¡å—">ğŸ“š ç›¸å…³å‡½æ•°å’Œæ¨¡å—</h2>

<h3 id="ç›¸å…³å†…ç½®å‡½æ•°">ç›¸å…³å†…ç½®å‡½æ•°</h3>
<ul>
  <li><a href="./abs.md"><code class="language-plaintext highlighter-rouge">abs()</code></a> - ç»å¯¹å€¼å‡½æ•°</li>
  <li><a href="./round.md"><code class="language-plaintext highlighter-rouge">round()</code></a> - æ•°å­—å››èˆäº”å…¥å‡½æ•°</li>
  <li><a href="./int.md"><code class="language-plaintext highlighter-rouge">int()</code></a> - æ•´æ•°è½¬æ¢å‡½æ•°</li>
  <li><a href="./float.md"><code class="language-plaintext highlighter-rouge">float()</code></a> - æµ®ç‚¹æ•°è½¬æ¢å‡½æ•°</li>
  <li><a href="./divmod.md"><code class="language-plaintext highlighter-rouge">divmod()</code></a> - é™¤æ³•å’Œå–æ¨¡è¿ç®—</li>
</ul>

<h3 id="ç›¸å…³æ ‡å‡†åº“æ¨¡å—">ç›¸å…³æ ‡å‡†åº“æ¨¡å—</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">math</code> - æ•°å­¦å‡½æ•°ï¼ˆåŒ…æ‹¬sqrt, log, expç­‰ï¼‰</li>
  <li><code class="language-plaintext highlighter-rouge">decimal</code> - åè¿›åˆ¶æµ®ç‚¹è¿ç®—</li>
  <li><code class="language-plaintext highlighter-rouge">fractions</code> - åˆ†æ•°è¿ç®—</li>
  <li><code class="language-plaintext highlighter-rouge">cmath</code> - å¤æ•°æ•°å­¦å‡½æ•°</li>
  <li><code class="language-plaintext highlighter-rouge">random</code> - éšæœºæ•°ç”Ÿæˆ</li>
  <li><code class="language-plaintext highlighter-rouge">secrets</code> - å¯†ç å­¦å®‰å…¨çš„éšæœºæ•°</li>
</ul>

<h3 id="ç›¸å…³ç¬¬ä¸‰æ–¹åº“">ç›¸å…³ç¬¬ä¸‰æ–¹åº“</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">numpy</code> - æ•°å€¼è®¡ç®—ï¼ˆåŒ…æ‹¬é«˜æ•ˆçš„å¹‚è¿ç®—ï¼‰</li>
  <li><code class="language-plaintext highlighter-rouge">sympy</code> - ç¬¦å·æ•°å­¦è®¡ç®—</li>
  <li><code class="language-plaintext highlighter-rouge">cryptography</code> - å¯†ç å­¦åº“</li>
  <li><code class="language-plaintext highlighter-rouge">gmpy2</code> - é«˜æ€§èƒ½å¤šç²¾åº¦è¿ç®—</li>
</ul>

<h2 id="-æ‰©å±•é˜…è¯»">ğŸ”— æ‰©å±•é˜…è¯»</h2>

<ul>
  <li><a href="https://docs.python.org/3/library/functions.html#pow">Pythonå®˜æ–¹æ–‡æ¡£ - pow()</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Exponentiation_by_squaring">å¿«é€Ÿå¹‚ç®—æ³•</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Modular_exponentiation">æ¨¡å¹‚è¿ç®—</a></li>
  <li><a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)">RSAåŠ å¯†ç®—æ³•</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Fermat%27s_little_theorem">è´¹é©¬å°å®šç†</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Euler%27s_theorem">æ¬§æ‹‰å®šç†</a></li>
</ul>

<h2 id="ï¸-æ ‡ç­¾">ğŸ·ï¸ æ ‡ç­¾</h2>

<p><code class="language-plaintext highlighter-rouge">æ•°å­¦è¿ç®—</code> <code class="language-plaintext highlighter-rouge">å¹‚è¿ç®—</code> <code class="language-plaintext highlighter-rouge">æŒ‡æ•°</code> <code class="language-plaintext highlighter-rouge">æ¨¡è¿ç®—</code> <code class="language-plaintext highlighter-rouge">å¯†ç å­¦</code> <code class="language-plaintext highlighter-rouge">å¿«é€Ÿå¹‚</code> <code class="language-plaintext highlighter-rouge">å¤§æ•°è¿ç®—</code></p>

<hr />

<p><strong>æœ€åæ›´æ–°</strong>: 2024-01-15<br />
<strong>ä½œè€…</strong>: Pythonæ–‡æ¡£å·¥ç¨‹å¸ˆ<br />
<strong>ç‰ˆæœ¬</strong>: 1.0</p>

      </div>
      
      <!-- æ–‡æ¡£åº•éƒ¨ -->
      <footer class="doc-footer">
        
        <p class="doc-author">ä½œè€…: Pythonæ–‡æ¡£å·¥ç¨‹å¸ˆ</p>
        
        
        
        <p class="doc-version">ç‰ˆæœ¬: 1.0</p>
        
      </footer>
    </article>
  </main>
  
  <!-- å³ä¾§å¯¼èˆªæ  -->
  <aside class="doc-sidebar">
    <div class="toc-container">
      <h3>ç›®å½•</h3>
      <div id="toc"></div>
    </div>
    
    <!-- ç›¸å…³é“¾æ¥ -->
    <div class="related-links">
      <h3>ç›¸å…³å†…å®¹</h3>
      <ul>
        
        
      </ul>
    </div>
  </aside>
</div>

<!-- utterancesè¯„è®ºç³»ç»Ÿ -->
<div class="comments-section">
  <h3 class="comments-title">
    <i class="fas fa-comments"></i>
    è®¨è®ºä¸åé¦ˆ
  </h3>
  <div class="comments-description">
    <p>æ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€è®¨è®ºï¼Œåˆ†äº«ä½ çš„å­¦ä¹ å¿ƒå¾—æˆ–æå‡ºé—®é¢˜ã€‚è¯„è®ºåŸºäºGitHub Issuesï¼Œéœ€è¦GitHubè´¦å·ã€‚</p>
  </div>
  <div id="utterances-container">
    <script src="https://utteranc.es/client.js"
            repo="username/PythonModelBook"
            issue-term="pathname"
            theme="preferred-color-scheme"
            crossorigin="anonymous"
            async>
    </script>
  </div>
  

</div>

<style>
.doc-container {
  display: flex;
  max-width: 1200px;
  margin: 0 auto;
  gap: 2rem;
}

.doc-content {
  flex: 1;
  min-width: 0;
}

.doc-header {
  border-bottom: 1px solid #e1e4e8;
  padding-bottom: 1rem;
  margin-bottom: 2rem;
}

.doc-title {
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
  color: #24292e;
}

.doc-description {
  font-size: 1.2rem;
  color: #586069;
  margin-bottom: 1rem;
}

.doc-meta {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  font-size: 0.9rem;
  color: #586069;
}

.doc-tags {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.tag {
  background: #f1f8ff;
  color: #0366d6;
  padding: 0.25rem 0.5rem;
  border-radius: 3px;
  font-size: 0.8rem;
}

.doc-body {
  line-height: 1.6;
}

.doc-body h2 {
  border-bottom: 1px solid #e1e4e8;
  padding-bottom: 0.3rem;
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.doc-body pre {
  background: #f6f8fa;
  padding: 1rem;
  border-radius: 6px;
  overflow-x: auto;
}

.doc-body table {
  border-collapse: collapse;
  width: 100%;
  margin: 1rem 0;
}

.doc-body th,
.doc-body td {
  border: 1px solid #d0d7de;
  padding: 0.5rem;
  text-align: left;
}

.doc-body th {
  background: #f6f8fa;
  font-weight: 600;
}

.doc-sidebar {
  width: 300px;
  position: sticky;
  top: 2rem;
  height: fit-content;
}

.toc-container,
.related-links {
  background: #f6f8fa;
  padding: 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
}

.toc-container h3,
.related-links h3 {
  margin-top: 0;
  margin-bottom: 1rem;
  font-size: 1.1rem;
}

.related-links ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.related-links li {
  margin-bottom: 0.5rem;
}

.related-links a {
  color: #0366d6;
  text-decoration: none;
}

.related-links a:hover {
  text-decoration: underline;
}

.comments-section {
  max-width: 1200px;
  margin: 2rem auto;
  margin-top: 3rem;
  padding: 2rem;
  background: var(--bg-secondary, #f6f8fa);
  border-radius: var(--radius-xl, 12px);
  border: 1px solid var(--border-color, #e1e4e8);
}

.comments-title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
  color: var(--text-primary, #24292e);
  font-size: 1.25rem;
  font-weight: 600;
}

.comments-title i {
  color: var(--primary-color, #0366d6);
}

.comments-description {
  margin-bottom: 1.5rem;
  padding: 1rem;
  background: var(--bg-primary, #ffffff);
  border-radius: var(--radius-lg, 8px);
  border-left: 4px solid var(--primary-color, #0366d6);
}

.comments-description p {
  margin: 0;
  color: var(--text-secondary, #586069);
  font-size: 0.9rem;
  line-height: 1.5;
}

#utterances-container,
#giscus-container {
  margin-top: 1rem;
}

/* è¯„è®ºç³»ç»Ÿåˆ‡æ¢æŒ‰é’® */
.comment-system-toggle {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
  padding: 0.5rem;
  background: var(--bg-primary, #ffffff);
  border-radius: var(--radius-lg, 8px);
  border: 1px solid var(--border-color, #e1e4e8);
}

.comment-toggle-btn {
  flex: 1;
  padding: 0.5rem 1rem;
  background: transparent;
  border: none;
  border-radius: var(--radius-md, 6px);
  color: var(--text-secondary, #586069);
  font-size: 0.85rem;
  cursor: pointer;
  transition: all var(--transition-fast, 0.15s ease);
}

.comment-toggle-btn.active {
  background: var(--primary-color, #0366d6);
  color: var(--text-inverse, #ffffff);
}

.comment-toggle-btn:hover:not(.active) {
  background: var(--bg-secondary, #f6f8fa);
  color: var(--text-primary, #24292e);
}

@media (max-width: 768px) {
  .doc-container {
    flex-direction: column;
  }
  
  .doc-sidebar {
    width: 100%;
    position: static;
  }
}
</style>

<script>
// ç”Ÿæˆç›®å½•
document.addEventListener('DOMContentLoaded', function() {
  const toc = document.getElementById('toc');
  const headings = document.querySelectorAll('.doc-body h2, .doc-body h3, .doc-body h4');
  
  if (headings.length > 0) {
    const tocList = document.createElement('ul');
    
    headings.forEach(function(heading, index) {
      const id = 'heading-' + index;
      heading.id = id;
      
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#' + id;
      a.textContent = heading.textContent;
      a.className = 'toc-link toc-' + heading.tagName.toLowerCase();
      
      li.appendChild(a);
      tocList.appendChild(li);
    });
    
    toc.appendChild(tocList);
  }
});

// è¯„è®ºç³»ç»Ÿåˆ‡æ¢åŠŸèƒ½
function switchCommentSystem(system) {
  const utterancesContainer = document.getElementById('utterances-container');
  const giscusContainer = document.getElementById('giscus-container');
  
  if (system === 'giscus') {
    utterancesContainer.style.display = 'none';
    giscusContainer.style.display = 'block';
  } else {
    utterancesContainer.style.display = 'block';
    giscusContainer.style.display = 'none';
  }
}
</script>
  </main>

  <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
  <button id="back-to-top" class="back-to-top" title="è¿”å›é¡¶éƒ¨">
    <i class="fas fa-chevron-up"></i>
  </button>

  <!-- é¡µè„š -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£</h3>
          <p>ç³»ç»ŸåŒ–æ•´ç†PythonçŸ¥è¯†ä½“ç³»çš„å¼€æºé¡¹ç›®</p>
        </div>
        <div class="footer-section">
          <h4>å¿«é€Ÿé“¾æ¥</h4>
          <ul>
            <li><a href="/PythonModelBook/docs/basics/">åŸºç¡€è¯­æ³•</a></li>
            <li><a href="/PythonModelBook/docs/builtins/">å†…ç½®å‡½æ•°</a></li>
            <li><a href="/PythonModelBook/docs/stdlib/">æ ‡å‡†åº“</a></li>
            <li><a href="/PythonModelBook/docs/thirdparty/">ç¬¬ä¸‰æ–¹åº“</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>ç¤¾åŒº</h4>
          <ul>
            <li><a href="https://github.com/liberalchang/PythonModelBook" target="_blank">GitHub</a></li>
            <li><a href="/PythonModelBook/CONTRIBUTING/">è´¡çŒ®æŒ‡å—</a></li>
            <li><a href="/PythonModelBook/about/">å…³äºé¡¹ç›®</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 PythonçŸ¥è¯†ä½“ç³»æ–‡æ¡£. é‡‡ç”¨ <a href="/PythonModelBook/LICENSE">MIT License</a> å¼€æºåè®®.</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="/PythonModelBook/assets/js/main.js"></script>
  <script src="/PythonModelBook/assets/js/search.js"></script>
  
</body>

</html>